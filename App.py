# =========================
#App.py â€” Personal Potentials Â· Ð ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ (clean rebuild)
# =========================

import os
import re
import json
import hashlib
import secrets
from datetime import datetime, date
from typing import Any, Dict, List, Optional, Tuple

import streamlit as st
from supabase import create_client

# OpenAI optional
try:
    from openai import OpenAI
except Exception:
    OpenAI = None


# -------------------------
# MUST be first Streamlit call
# -------------------------
APP_TITLE = st.secrets.get("APP_BRAND_TITLE", os.getenv("APP_BRAND_TITLE", "Personal Potentials Â· Ð ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ"))
st.set_page_config(page_title=APP_TITLE, page_icon="ðŸ’ ", layout="wide")


# =========================
# Secrets
# =========================
SUPABASE_URL = st.secrets.get("SUPABASE_URL", os.getenv("SUPABASE_URL", ""))
SUPABASE_KEY = st.secrets.get("SUPABASE_SERVICE_ROLE_KEY", os.getenv("SUPABASE_SERVICE_ROLE_KEY", ""))
OPENAI_API_KEY = st.secrets.get("OPENAI_API_KEY", os.getenv("OPENAI_API_KEY", ""))

USERS_TABLE = "pp_users"
PROFILES_TABLE = "pp_profiles"

if not SUPABASE_URL or not SUPABASE_KEY:
    st.error("Missing SUPABASE_URL or SUPABASE_SERVICE_ROLE_KEY in Streamlit secrets")
    st.stop()

sb = create_client(SUPABASE_URL, SUPABASE_KEY)


# =========================
# Profile defaults
# =========================
def default_profile() -> Dict[str, Any]:
    action_blocks = [
        {"key": "structure", "title": "Ð¡Ñ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð° Ð´Ð½Ñ", "items": []},
        {"key": "focus", "title": "Ð¤Ð¾ÐºÑƒÑ Ð½ÐµÐ´ÐµÐ»Ð¸", "items": []},
        {"key": "growth", "title": "Ð Ð¾ÑÑ‚ Ð¸ Ð½Ð°Ð²Ñ‹ÐºÐ¸", "items": []},
        {"key": "energy", "title": "Ð­Ð½ÐµÑ€Ð³Ð¸Ñ Ð¸ Ñ€ÐµÑÑƒÑ€Ñ", "items": []},
    ]
    return {
        "meta": {
            "schema": "pp.realization.v2",
            "created_at": datetime.utcnow().isoformat() + "Z",
            "updated_at": datetime.utcnow().isoformat() + "Z",
        },
        "foundation": {
            "name": "",
            "potentials_table": "",
        },
        "realization": {
            "point_a": "",
            "point_b": "",
            "weekly_focus": "",
            "focus_explainer": "",
            "action_blocks": action_blocks,
            "week_start": "",
        },
        "today": {
            "by_date": {},
        },
        "library": {
            "extended_report_md": "",
            "extended_report_updated_at": "",
        },
    }


def ensure_profile_schema(p: dict) -> dict:
    if not isinstance(p, dict):
        return default_profile()
    p.setdefault("meta", {})
    p["meta"].setdefault("schema", "pp.realization.v2")
    p["meta"].setdefault("created_at", datetime.utcnow().isoformat() + "Z")
    p["meta"].setdefault("updated_at", datetime.utcnow().isoformat() + "Z")

    p.setdefault("foundation", {"name": "", "potentials_table": ""})
    p["foundation"].setdefault("name", "")
    p["foundation"].setdefault("potentials_table", "")

    p.setdefault("realization", {})
    p["realization"].setdefault("point_a", "")
    p["realization"].setdefault("point_b", "")
    p["realization"].setdefault("weekly_focus", "")
    p["realization"].setdefault("focus_explainer", "")
    p["realization"].setdefault("action_blocks", [
        {"key": "structure", "title": "Ð¡Ñ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð° Ð´Ð½Ñ", "items": []},
        {"key": "focus", "title": "Ð¤Ð¾ÐºÑƒÑ Ð½ÐµÐ´ÐµÐ»Ð¸", "items": []},
        {"key": "growth", "title": "Ð Ð¾ÑÑ‚ Ð¸ Ð½Ð°Ð²Ñ‹ÐºÐ¸", "items": []},
        {"key": "energy", "title": "Ð­Ð½ÐµÑ€Ð³Ð¸Ñ Ð¸ Ñ€ÐµÑÑƒÑ€Ñ", "items": []},
    ])
    p["realization"].setdefault("week_start", "")

    p.setdefault("today", {"by_date": {}})
    p["today"].setdefault("by_date", {})

    p.setdefault("library", {})
    p["library"].setdefault("extended_report_md", "")
    p["library"].setdefault("extended_report_updated_at", "")

    return p


# =========================
# Security helpers (PBKDF2)
# =========================
def _pbkdf2_hash(password: str, salt: str) -> str:
    dk = hashlib.pbkdf2_hmac("sha256", password.encode("utf-8"), salt.encode("utf-8"), 200_000)
    return dk.hex()

def make_password(password: str) -> Tuple[str, str]:
    salt = secrets.token_urlsafe(16)
    pw_hash = _pbkdf2_hash(password, salt)
    return salt, pw_hash

def verify_password(password: str, salt: str, pw_hash: str) -> bool:
    return secrets.compare_digest(_pbkdf2_hash(password, salt), pw_hash)


# =========================
# DB helpers
# =========================
def db_get_user_by_email(email: str) -> Optional[dict]:
    r = sb.table(USERS_TABLE).select("*").eq("email", email.lower().strip()).limit(1).execute()
    rows = r.data or []
    return rows[0] if rows else None

def db_create_user(email: str, password: str) -> dict:
    salt, pw_hash = make_password(password)
    r = sb.table(USERS_TABLE).insert({
        "email": email.lower().strip(),
        "salt": salt,
        "pw_hash": pw_hash,
    }).execute()
    return (r.data or [None])[0]

def db_get_profile(user_id: str) -> Optional[dict]:
    r = sb.table(PROFILES_TABLE).select("*").eq("user_id", user_id).limit(1).execute()
    rows = r.data or []
    return rows[0] if rows else None

def db_upsert_profile(user_id: str, data: dict) -> None:
    data = ensure_profile_schema(data)
    data["meta"]["updated_at"] = datetime.utcnow().isoformat() + "Z"
    sb.table(PROFILES_TABLE).upsert({
        "user_id": user_id,
        "data": data,
        "updated_at": datetime.utcnow().isoformat() + "Z",
    }).execute()
    
# =========================
# SPCH CANON (single-file, cached, NO recursion)
# =========================

def _s(x) -> str:
    return (str(x or "").strip())

def norm_pot_name(x: str) -> str:
    s = _s(x)
    s = s.replace("Ñ‘", "Ðµ").replace("Ð", "Ð•")
    s = re.sub(r"\s{2,}", " ", s).strip()
    # Title-ish: "Ð³Ñ€Ð°Ð½Ð°Ñ‚" -> "Ð“Ñ€Ð°Ð½Ð°Ñ‚"
    return s[:1].upper() + s[1:].lower() if s else s


@st.cache_resource
def load_spch_canon():
    """
    Ð“Ñ€ÑƒÐ·Ð¸Ð¼ ÐºÐ°Ð½Ð¾Ð½ Ð¾Ð´Ð¸Ð½ Ñ€Ð°Ð· Ð½Ð° Ð¿Ñ€Ð¾Ñ†ÐµÑÑ Streamlit.
    Ð’Ð¾Ð·Ð²Ñ€Ð°Ñ‰Ð°ÐµÐ¼ 4 dict: POT_CANON_1_3, POT_4_CANON, POT_5_CANON, POT_6_CANON
    """

    # ========= Ð’Ð¡Ð¢ÐÐ’Ð¬ Ð¡Ð®Ð”Ð Ð¢Ð’ÐžÐ˜ Ð¡Ð›ÐžÐ’ÐÐ Ð˜ ÐšÐÐÐžÐÐ 1:1 =========
    # ÐÐ¸Ð¶Ðµ Ñ Ð¾ÑÑ‚Ð°Ð²Ð»ÑÑŽ ÑƒÐºÐ¾Ñ€Ð¾Ñ‡ÐµÐ½Ð½Ñ‹Ð¹ ÑˆÐ°Ð±Ð»Ð¾Ð½. Ð¢Ð« Ð²ÑÑ‚Ð°Ð²Ð»ÑÐµÑˆÑŒ Ð¿Ð¾Ð»Ð½Ñ‹Ð¹ Ð±Ð»Ð¾Ðº, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¹ Ñ‚Ñ‹ Ð¿Ñ€Ð¸ÑÐ»Ð°Ð»Ð°.
    POT_CANON_1_3 = {
        "Ð¡Ð°Ð¿Ñ„Ð¸Ñ€": {
            "perception": {
                "title": "Ð¡Ð°Ð¿Ñ„Ð¸Ñ€ â€” 1 Ð¿Ð¾Ñ‚ÐµÐ½Ñ†Ð¸Ð°Ð» (Ð²Ð¾ÑÐ¿Ñ€Ð¸ÑÑ‚Ð¸Ðµ/Ð°Ð½Ð°Ð»Ð¸Ð·)",
                "lines": [
                    "ÐšÐ°Ð½Ð°Ð» Ð²Ð¾ÑÐ¿Ñ€Ð¸ÑÑ‚Ð¸Ñ: **Ð·Ð²ÑƒÐº / Ð²Ð¸Ð±Ñ€Ð°Ñ†Ð¸Ñ Ð¸Ð´ÐµÐ¸**. Ð’Ð¾ÑÐ¿Ñ€Ð¸ÑÑ‚Ð¸Ðµ Ñ‡ÐµÑ€ÐµÐ· Â«Ð¿Ñ€Ð¸ÑÐ»ÑƒÑˆÐ°Ñ‚ÑŒÑÑ Ðº ÑÐµÐ±ÐµÂ».",
                    "ÐÐ½Ð°Ð»Ð¸Ð·Ð¸Ñ€ÑƒÐµÑ‚ **Ñ€Ð°Ð±Ð¾Ñ‚Ð¾ÑÐ¿Ð¾ÑÐ¾Ð±Ð½Ð¾ÑÑ‚ÑŒ Ð¸Ð´ÐµÐ¸/Ñ‚ÐµÐ¾Ñ€Ð¸Ð¸/ÑƒÐ±ÐµÐ¶Ð´ÐµÐ½Ð¸Ñ/Ð¼Ñ‹ÑˆÐ»ÐµÐ½Ð¸Ñ**: Â«Ð·Ð²ÑƒÑ‡Ð¸Ñ‚ / Ð½Ðµ Ð·Ð²ÑƒÑ‡Ð¸Ñ‚Â», Â«Ð² Ð½Ð¾Ñ‚Ñƒ / Ð½Ðµ Ð² Ð½Ð¾Ñ‚ÑƒÂ».",
                    "Ð§ÑƒÐ²ÑÑ‚Ð²ÑƒÐµÑ‚ Ð´Ð¸ÑÐ³Ð°Ñ€Ð¼Ð¾Ð½Ð¸ÑŽ ÑÐ¼Ñ‹ÑÐ»Ð¾Ð² Ð¸ Ð¼Ð¾Ð¶ÐµÑ‚ Ð²Ð¸Ð´ÐµÑ‚ÑŒ, **ÐºÐ°ÐºÐ°Ñ Ð¼Ñ‹ÑÐ»ÑŒ Ð½Ðµ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚** Ð¸ ÐºÐ°Ðº ÐµÑ‘ Ð¸ÑÐ¿Ñ€Ð°Ð²Ð¸Ñ‚ÑŒ.",
                    "ÐŸÐ°Ð¼ÑÑ‚ÑŒ: **Ð»ÑƒÑ‡ÑˆÐµ Ð²ÑÐµÐ³Ð¾ Ð·Ð°Ð¿Ð¾Ð¼Ð¸Ð½Ð°ÐµÑ‚ Ñ‚Ð¾, Ñ‡Ñ‚Ð¾ ÑÐ»Ñ‹ÑˆÐ¸Ñ‚**. Ð›ÑŽÐ±Ð¸Ñ‚ Ñ‚Ð¸ÑˆÐ¸Ð½Ñƒ, Ð¼Ð¾Ð¶ÐµÑ‚ ÑƒÑÑ‚Ð°Ð²Ð°Ñ‚ÑŒ Ð¾Ñ‚ ÑˆÑƒÐ¼Ð°."
                ],
                "intuition": [
                    "Ð˜Ð½Ñ‚ÑƒÐ¸Ñ†Ð¸Ñ: **ÑÑÐ½Ð¾ÑÐ»Ñ‹ÑˆÐ°Ð½Ð¸Ðµ** (ÑÐ»Ñ‹ÑˆÐ°Ñ‚ÑŒ ÑÐµÐ±Ñ/Ð´ÑƒÑ…).",
                    "Ð’Ð°Ð¶Ð½Ñ‹Ðµ Ñ€ÐµÑˆÐµÐ½Ð¸Ñ Ð»ÑƒÑ‡ÑˆÐµ Ð¿Ñ€Ð¸Ð½Ð¸Ð¼Ð°Ñ‚ÑŒ Ð² Ñ‚Ð¸ÑˆÐ¸Ð½Ðµ/Ð½Ð° Ð¿Ñ€Ð¸Ñ€Ð¾Ð´Ðµ: Ð¼ÐµÐ½ÑŒÑˆÐµ ÑˆÑƒÐ¼Ð° â€” Ð»ÑƒÑ‡ÑˆÐµ ÑÐ»Ñ‹ÑˆÐ½Ð¾ ÑÐµÐ±Ñ.",
                ],
            },
            "motivation": {
                "title": "Ð¡Ð°Ð¿Ñ„Ð¸Ñ€ â€” 2 Ð¿Ð¾Ñ‚ÐµÐ½Ñ†Ð¸Ð°Ð» (Ñ†ÐµÐ»ÑŒ/Ð¼Ð¾Ñ‚Ð¸Ð²Ð°Ñ†Ð¸Ñ/Ð¿Ð¾Ð·Ð¸Ñ†Ð¸Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ)",
                "lines": [
                    "ÐšÐ»ÑŽÑ‡ÐµÐ²Ð°Ñ Ñ†ÐµÐ½Ð½Ð¾ÑÑ‚ÑŒ Ñ†ÐµÐ»Ð¸: **ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ðµ Ð½Ð¾Ð²Ñ‹Ñ… ÑÐ¼Ñ‹ÑÐ»Ð¾Ð², Ð¸Ð´ÐµÐ¹, Ñ„Ð¸Ð»Ð¾ÑÐ¾Ñ„Ð¸Ð¹, ÐºÐ¾Ð½Ñ†ÐµÐ¿Ñ†Ð¸Ð¹, Ð¼Ð¾Ð´ÐµÐ»ÐµÐ¹ Ð¼Ñ‹ÑˆÐ»ÐµÐ½Ð¸Ñ** (Ð¸/Ð¸Ð»Ð¸ Ð¼ÑƒÐ·Ñ‹ÐºÐ¸).",
                    "Ð—Ð°Ñ‡ÐµÐ¼ Ñ‚Ð²Ð¾Ñ€ÑŽ: **Ð¸Ð·Ð¾Ð±Ñ€ÐµÑÑ‚Ð¸ Ð½Ð¾Ð²Ñ‹Ð¹ Ð¾Ñ‚Ð²ÐµÑ‚, Ð¸Ð´ÐµÑŽ, Ñ‚ÐµÐ¾Ñ€Ð¸ÑŽ**.",
                    "ÐŸÐ¾Ð·Ð¸Ñ†Ð¸Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ: **Ð´ÑƒÑ…Ð¾Ð²Ð½Ñ‹Ð¹ Ð¿Ñ€Ð¾Ð²Ð¾Ð´Ð½Ð¸Ðº / Ð³ÑƒÑ€Ñƒ / Ð¿Ð¾ÑÑ‚ / Ñ„Ð¸Ð»Ð¾ÑÐ¾Ñ„**."
                ]
            },
            "instrument": {
                "title": "Ð¡Ð°Ð¿Ñ„Ð¸Ñ€ â€” 3 Ð¿Ð¾Ñ‚ÐµÐ½Ñ†Ð¸Ð°Ð» (Ð¸Ð½ÑÑ‚Ñ€ÑƒÐ¼ÐµÐ½Ñ‚/ÐºÐ°Ðº Ð´ÐµÐ»Ð°ÑŽ)",
                "lines": [
                    "Ð˜Ð½ÑÑ‚Ñ€ÑƒÐ¼ÐµÐ½Ñ‚: **ÑÐ¼Ñ‹ÑÐ»Ð¾Ð²Ð¾Ðµ Ð¸Ð·Ð¾Ð±Ñ€ÐµÑ‚ÐµÐ½Ð¸Ðµ** â€” ÑÐ¾Ð·Ð´Ð°Ð²Ð°Ñ‚ÑŒ Ð½ÐµÐ´Ð¾ÑÑ‚Ð°ÑŽÑ‰Ð¸Ð¹ Ð¿Ð°Ð·Ð» ÑÐ¼Ñ‹ÑÐ»Ð° Ð¿Ð¾Ð´ Ð·Ð°Ð¿Ñ€Ð¾Ñ Ñ‡ÐµÐ»Ð¾Ð²ÐµÐºÐ°.",
                    "Ð¡Ð»ÑƒÑˆÐ°ÐµÑ‚ ÑÐ¸Ñ‚ÑƒÐ°Ñ†Ð¸ÑŽ â†’ Ð½Ð°Ñ…Ð¾Ð´Ð¸Ñ‚ Ð½ÐµÐ´Ð¾ÑÑ‚Ð°ÑŽÑ‰ÑƒÑŽ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸ÑŽ â†’ Ð´Ð°Ñ‘Ñ‚ ÑÑÐ½Ð¾ÑÑ‚ÑŒ/Ð¸Ð´ÐµÑŽ/Ð¾Ð±ÑŠÑÑÐ½ÐµÐ½Ð¸Ðµ.",
                    "Ð˜Ð½ÑÑ‚Ñ€ÑƒÐ¼ÐµÐ½Ñ‚Ñ‹: ÑÐ¸ÑÑ‚ÐµÐ¼Ð°Ñ‚Ð¸Ð·Ð°Ñ†Ð¸Ñ ÑÐ¼Ñ‹ÑÐ»Ð¾Ð², ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ðµ Ð¸Ð´ÐµÐ¹, Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° Ð½Ð° Ð²Ð½ÑƒÑ‚Ñ€ÐµÐ½Ð½Ð¸Ð¹ Ð¸ÑÑ‚Ð¾Ñ‡Ð½Ð¸Ðº."
                ]
            }
        },

        "Ð“ÐµÐ»Ð¸Ð¾Ð´Ð¾Ñ€": {
            "perception": {
                "title": "Ð“ÐµÐ»Ð¸Ð¾Ð´Ð¾Ñ€ â€” 1 Ð¿Ð¾Ñ‚ÐµÐ½Ñ†Ð¸Ð°Ð» (Ð²Ð¾ÑÐ¿Ñ€Ð¸ÑÑ‚Ð¸Ðµ/Ð°Ð½Ð°Ð»Ð¸Ð·)",
                "lines": [
                    "ÐšÐ°Ð½Ð°Ð» Ð²Ð¾ÑÐ¿Ñ€Ð¸ÑÑ‚Ð¸Ñ: **Ð²ÐºÑƒÑ Ð¸Ð´ÐµÐ¸**. Ð’ÐºÐ»ÑŽÑ‡Ð°ÐµÑ‚ÑÑ Ñ‡ÐµÑ€ÐµÐ· **Ð´Ð¸Ð°Ð»Ð¾Ð³, ÑÐ¿Ð¾Ñ€, Ð¿Ñ€Ð¾Ð³Ð¾Ð²Ð°Ñ€Ð¸Ð²Ð°Ð½Ð¸Ðµ**.",
                    "ÐÐ½Ð°Ð»Ð¸Ð·Ð¸Ñ€ÑƒÐµÑ‚ **Ð¸Ð½Ñ‚ÐµÑ€ÐµÑ/Ð¿Ð¾Ð¿ÑƒÐ»ÑÑ€Ð½Ð¾ÑÑ‚ÑŒ ÑÐ¼Ñ‹ÑÐ»Ð¾Ð²Ð¾Ð³Ð¾ Ð¿Ñ€Ð¾Ð´ÑƒÐºÑ‚Ð°**: Ð·Ð°Ð¹Ð´Ñ‘Ñ‚/Ð½Ðµ Ð·Ð°Ð¹Ð´Ñ‘Ñ‚, ÑÐ¼ÐµÑˆÐ½Ð¾/Ð½Ðµ ÑÐ¼ÐµÑˆÐ½Ð¾, Ð±ÑƒÐ´ÐµÑ‚ Ð»Ð¸ ÑÐ¿Ñ€Ð¾Ñ.",
                    "ÐŸÐ°Ð¼ÑÑ‚ÑŒ: Ð·Ð°Ð¿Ð¾Ð¼Ð¸Ð½Ð°ÐµÑ‚ Ñ‡ÐµÑ€ÐµÐ· **Ð¿Ñ€Ð¾Ð³Ð¾Ð²Ð°Ñ€Ð¸Ð²Ð°Ð½Ð¸Ðµ**, Ð¿Ð¾Ð²Ñ‚Ð¾Ñ€ÐµÐ½Ð¸Ðµ, Ñ€Ð°ÑÑÐºÐ°Ð·."
                ],
                "intuition": [
                    "Ð˜Ð½Ñ‚ÑƒÐ¸Ñ†Ð¸Ñ Ð² Ð³Ð¾Ð»Ð¾ÑÐµ: Ð¾Ð±ÑÑƒÐ¶Ð´Ð°Ð¹/Ñ€Ð°ÑÑÑƒÐ¶Ð´Ð°Ð¹ Ð²ÑÐ»ÑƒÑ… â€” Ñ‚Ð°Ðº Ð½Ð°Ñ…Ð¾Ð´Ð¸Ñ‚ÑÑ Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ñ‹Ð¹ Ð¾Ñ‚Ð²ÐµÑ‚.",
                    "ÐŸÑ€Ð°ÐºÑ‚Ð¸ÐºÐ°: Ð·Ð°Ð´Ð°Ñ‘ÑˆÑŒ Ð²Ð¾Ð¿Ñ€Ð¾Ñ â†’ Ð½Ð°Ñ‡Ð¸Ð½Ð°ÐµÑˆÑŒ Ñ€Ð°ÑÑÑƒÐ¶Ð´Ð°Ñ‚ÑŒ Ð²ÑÐ»ÑƒÑ… (Ð¼Ð¾Ð¶Ð½Ð¾ Ð¾Ð´Ð¸Ð½) â†’ Ñ‡ÐµÑ€ÐµÐ· Ð³Ð¾Ð»Ð¾Ñ Ð¿Ñ€Ð¸Ñ…Ð¾Ð´Ð¸Ñ‚ ÑÑÐ½Ð¾ÑÑ‚ÑŒ."
                ]
            },
            "motivation": {
                "title": "Ð“ÐµÐ»Ð¸Ð¾Ð´Ð¾Ñ€ â€” 2 Ð¿Ð¾Ñ‚ÐµÐ½Ñ†Ð¸Ð°Ð» (Ñ†ÐµÐ»ÑŒ/Ð¼Ð¾Ñ‚Ð¸Ð²Ð°Ñ†Ð¸Ñ/Ð¿Ð¾Ð·Ð¸Ñ†Ð¸Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ)",
                "lines": [
                    "ÐšÐ»ÑŽÑ‡ÐµÐ²Ð°Ñ Ñ†ÐµÐ½Ð½Ð¾ÑÑ‚ÑŒ Ñ†ÐµÐ»Ð¸: **Ð¿Ð¾Ð¿ÑƒÐ»ÑÑ€Ð½Ð¾ÑÑ‚ÑŒ, Ð¿Ñ€Ð¸Ð·Ð½Ð°Ð½Ð¸Ðµ, Ñ€Ð°ÑÐ¿Ñ€Ð¾ÑÑ‚Ñ€Ð°Ð½ÐµÐ½Ð¸Ðµ Ð·Ð½Ð°Ð½Ð¸Ð¹/ÑÐ¼Ñ‹ÑÐ»Ð¾Ð²**.",
                    "Ð¡Ð¸Ð»ÑŒÐ½Ð°Ñ Ñ€ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ: ÑÑ†ÐµÐ½Ð°/ÑÐ¾Ñ†ÑÐµÑ‚Ð¸/Ð¾Ñ€Ð°Ñ‚Ð¾Ñ€ÑÑ‚Ð²Ð¾/Ð¿ÐµÐ½Ð¸Ðµ â€” ÐµÑÐ»Ð¸ Ð½Ðµ Ñ€ÐµÐ°Ð»Ð¸Ð·ÑƒÐµÑ‚ÑÑ, Ð¼Ð¾Ð¶ÐµÑ‚ Â«Ð²Ñ‹Ð³Ð¾Ð²Ð°Ñ€Ð¸Ð²Ð°Ñ‚ÑŒÑÑÂ» Ð½Ð° Ð±Ð»Ð¸Ð·ÐºÐ¸Ñ….",
                    "ÐŸÐ¾Ð·Ð¸Ñ†Ð¸Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ: **ÑÑ€ÐºÐ¸Ð¹ Ð³Ð¾Ð»Ð¾Ñ / Ð´Ð¸ÐºÑ‚Ð¾Ñ€ / ÑÐ¼Ñ‹ÑÐ»Ð¾Ð²Ð¾Ð¹ Ð¼Ð¾Ñ‚Ð¸Ð²Ð°Ñ‚Ð¾Ñ€ / Ð¿ÐµÐ²ÐµÑ† / Ð¾Ñ€Ð°Ñ‚Ð¾Ñ€**."
                ]
            },
            "instrument": {
                "title": "Ð“ÐµÐ»Ð¸Ð¾Ð´Ð¾Ñ€ â€” 3 Ð¿Ð¾Ñ‚ÐµÐ½Ñ†Ð¸Ð°Ð» (Ð¸Ð½ÑÑ‚Ñ€ÑƒÐ¼ÐµÐ½Ñ‚/ÐºÐ°Ðº Ð´ÐµÐ»Ð°ÑŽ)",
                "lines": [
                    "Ð˜Ð½ÑÑ‚Ñ€ÑƒÐ¼ÐµÐ½Ñ‚: **Ð¿Ñ€Ð¾Ð´Ð²Ð¸Ð¶ÐµÐ½Ð¸Ðµ ÑÐ¼Ñ‹ÑÐ»Ð¾Ð² Ð¸ Ð·Ð½Ð°Ð½Ð¸Ð¹ Ñ‡ÐµÑ€ÐµÐ· Ð³Ð¾Ð»Ð¾Ñ**.",
                    "ÐÐ°Ð²Ñ‹ÐºÐ¸: Ð¿Ñ€Ð¸Ð²Ð»ÐµÑ‡ÐµÐ½Ð¸Ðµ Ð°ÑƒÐ´Ð¸Ñ‚Ð¾Ñ€Ð¸Ð¸, Ð¿Ð¾Ð²Ñ‹ÑˆÐµÐ½Ð¸Ðµ Ð¿Ð¾Ð¿ÑƒÐ»ÑÑ€Ð½Ð¾ÑÑ‚Ð¸ Ð¸Ð´ÐµÐ¹, Ñ€Ð°ÑÐºÑ€Ñ‹Ñ‚Ð¸Ðµ Ñ‡ÐµÐ»Ð¾Ð²ÐµÐºÐ° Ñ‡ÐµÑ€ÐµÐ· Ñ€ÐµÑ‡ÑŒ/Ð¿Ð¾Ð´Ð°Ñ‡Ñƒ.",
                    "ÐŸÐ¾Ð¼Ð¾Ð³Ð°ÐµÑ‚ Ð´ÐµÐ»Ð°Ñ‚ÑŒ Ð´Ñ€ÑƒÐ³Ð¸Ñ… Ð±Ð¾Ð»ÐµÐµ Ð·Ð°Ð¼ÐµÑ‚Ð½Ñ‹Ð¼Ð¸: Ñ„Ð¸ÑˆÐºÐ¸ Ð¿Ð¾Ð¿ÑƒÐ»ÑÑ€Ð½Ð¾ÑÑ‚Ð¸, Ð²Ð¾Ð²Ð»ÐµÑ‡ÐµÐ½Ð¸Ðµ, Ð¸Ð¼Ð¿Ñ€Ð¾Ð²Ð¸Ð·Ð°Ñ†Ð¸Ñ."
                ]
            }
        },

        "ÐÐ¼ÐµÑ‚Ð¸ÑÑ‚": {
            "perception": {
                "title": "ÐÐ¼ÐµÑ‚Ð¸ÑÑ‚ â€” 1 Ð¿Ð¾Ñ‚ÐµÐ½Ñ†Ð¸Ð°Ð» (Ð²Ð¾ÑÐ¿Ñ€Ð¸ÑÑ‚Ð¸Ðµ/Ð°Ð½Ð°Ð»Ð¸Ð·)",
                "lines": [
                    "ÐšÐ°Ð½Ð°Ð» Ð²Ð¾ÑÐ¿Ñ€Ð¸ÑÑ‚Ð¸Ñ: **Ð·Ð°Ð¿Ð°Ñ… / Ñ…Ð¸Ð¼Ð¸Ñ Ð¸Ð´ÐµÐ¸** (ÑÑÐ½Ð¾Ð·Ð½Ð°Ð½Ð¸Ðµ). Â«Ð¯ Ð¿Ñ€Ð¾ÑÑ‚Ð¾ Ð·Ð½Ð°ÑŽÂ».",
                    "ÐÐ½Ð°Ð»Ð¸Ð·Ð¸Ñ€ÑƒÐµÑ‚ **ÑÑ„Ñ„ÐµÐºÑ‚Ð¸Ð²Ð½Ð¾ÑÑ‚ÑŒ Ð·Ð½Ð°Ð½Ð¸Ð¹/Ð¼Ñ‹ÑˆÐ»ÐµÐ½Ð¸Ñ/Ð¸Ð´ÐµÐ¸** Ð¿Ð¾Ð´ ÐºÐ¾Ð½ÐºÑ€ÐµÑ‚Ð½ÑƒÑŽ ÑÐ¸Ñ‚ÑƒÐ°Ñ†Ð¸ÑŽ, Ñ†ÐµÐ»ÑŒ, Ð²Ñ€ÐµÐ¼Ñ.",
                    "Ð’Ð¸Ð´Ð¸Ñ‚ ÑÑ†ÐµÐ½Ð°Ñ€Ð¸Ð¸ Ñ€ÐµÑˆÐµÐ½Ð¸Ð¹ Ð²Ð¾ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸: Ðº Ñ‡ÐµÐ¼Ñƒ Ð¿Ñ€Ð¸Ð²ÐµÐ´Ñ‘Ñ‚ Ð¿ÑƒÑ‚ÑŒ Ð¼Ñ‹ÑˆÐ»ÐµÐ½Ð¸Ñ, ÐºÐ°Ðº Â«ÑƒÐ¿Ð°ÐºÐ¾Ð²Ð°Ñ‚ÑŒ Ð¸Ð´ÐµÑŽÂ», Ñ‡Ñ‚Ð¾Ð±Ñ‹ ÐµÑ‘ ÐºÑƒÐ¿Ð¸Ð»Ð¸.",
                    "ÐŸÐ°Ð¼ÑÑ‚ÑŒ: ÑÐ¸Ð»ÑŒÐ½Ð°Ñ Ð¿Ð°Ð¼ÑÑ‚ÑŒ Ð½Ð° Ð·Ð°Ð¿Ð°Ñ…Ð¸, Ð¾Ð±Ð¾Ð½ÑÑ‚ÐµÐ»ÑŒÐ½Ð¾Ðµ Ð²Ð¾ÑÐ¿Ñ€Ð¸ÑÑ‚Ð¸Ðµ."
                ],
                "intuition": [
                    "Ð˜Ð½Ñ‚ÑƒÐ¸Ñ†Ð¸Ñ = Ð¾Ð±Ð¾Ð½ÑÐ½Ð¸Ðµ (Ñ‚Ñ€ÐµÑ‚Ð¸Ð¹ Ð³Ð»Ð°Ð·): Ñƒ Ð»ÑŽÐ±Ð¾Ð¹ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ð¸ ÐµÑÑ‚ÑŒ ÑÐ²Ð¾Ð¹ Â«Ð·Ð°Ð¿Ð°Ñ…Â».",
                    "ÐŸÑ€Ð°ÐºÑ‚Ð¸ÐºÐ°: Ð¼ÐµÑÑ‚Ð¾/Ð»ÑŽÐ´Ð¸/Ñ€ÐµÑˆÐµÐ½Ð¸Ðµ â€” ÐµÑÐ»Ð¸ Â«Ð·Ð°Ð¿Ð°Ñ… Ð½Ñ€Ð°Ð²Ð¸Ñ‚ÑÑÂ», Ð·Ð½Ð°Ñ‡Ð¸Ñ‚ Ñ‚ÑƒÐ´Ð°."
                ]
            },
            "motivation": {
                "title": "ÐÐ¼ÐµÑ‚Ð¸ÑÑ‚ â€” 2 Ð¿Ð¾Ñ‚ÐµÐ½Ñ†Ð¸Ð°Ð» (Ñ†ÐµÐ»ÑŒ/Ð¼Ð¾Ñ‚Ð¸Ð²Ð°Ñ†Ð¸Ñ/Ð¿Ð¾Ð·Ð¸Ñ†Ð¸Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ)",
                "lines": [
                    "ÐšÐ»ÑŽÑ‡ÐµÐ²Ð°Ñ Ñ†ÐµÐ½Ð½Ð¾ÑÑ‚ÑŒ Ñ†ÐµÐ»Ð¸: **Ð¿Ñ€Ð¾Ð´Ð°Ð¶Ð° ÑÐ¼Ñ‹ÑÐ»Ð¾Ð², Ñ‚Ð°Ð¹Ð½Ð¾Ðµ Ð·Ð½Ð°Ð½Ð¸Ðµ, Ð²Ð»Ð°ÑÑ‚ÑŒ Ð½Ð°Ð´ Ð¼Ñ‹ÑˆÐ»ÐµÐ½Ð¸ÐµÐ¼/Ð²Ð½Ð¸Ð¼Ð°Ð½Ð¸ÐµÐ¼**.",
                    "ÐœÐ¾Ñ‚Ð¸Ð²Ð¸Ñ€ÑƒÐµÑ‚: Ð·Ð½Ð°Ð½Ð¸Ñ, ÑÐµÐºÑ€ÐµÑ‚Ð½Ð°Ñ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ, Ð¼ÐµÑ…Ð°Ð½Ð¸Ð·Ð¼Ñ‹ Ð²Ð»Ð¸ÑÐ½Ð¸Ñ (Ð² ÑÐ²ÐµÑ‚Ð»Ð¾Ð¼ ÐºÐ»ÑŽÑ‡Ðµ â€” Ð¿Ð¾Ð¼Ð¾Ð³Ð°Ñ‚ÑŒ Ð¼ÐµÐ½ÑÑ‚ÑŒ Ð¼Ñ‹ÑˆÐ»ÐµÐ½Ð¸Ðµ).",
                    "ÐŸÐ¾Ð·Ð¸Ñ†Ð¸Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ: **Ð¼Ð¸ÑÑ‚Ð¸ÐºÐ°/Ð¸Ð½Ñ‚Ñ€Ð¸Ð³Ð°/Ñ‚Ð°Ð¹Ð½Ñ‹/ÑÐ°ÐºÑ€Ð°Ð»ÑŒÐ½Ð°Ñ Ð°Ñ‚Ð¼Ð¾ÑÑ„ÐµÑ€Ð°** (ÑˆÐºÐ¾Ð»Ð° Ð·Ð½Ð°Ð½Ð¸Ð¹, ÑÐ·Ð¾Ñ‚ÐµÑ€Ð¸ÐºÐ° ÐºÐ°Ðº Ð¾Ð±Ð¾Ð»Ð¾Ñ‡ÐºÐ°)."
                ]
            },
            "instrument": {
                "title": "ÐÐ¼ÐµÑ‚Ð¸ÑÑ‚ â€” 3 Ð¿Ð¾Ñ‚ÐµÐ½Ñ†Ð¸Ð°Ð» (Ð¸Ð½ÑÑ‚Ñ€ÑƒÐ¼ÐµÐ½Ñ‚/ÐºÐ°Ðº Ð´ÐµÐ»Ð°ÑŽ)",
                "lines": [
                    "Ð˜Ð½ÑÑ‚Ñ€ÑƒÐ¼ÐµÐ½Ñ‚: **ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð¼Ñ‹ÑˆÐ»ÐµÐ½Ð¸ÐµÐ¼** â€” ÑÐ»Ð¾Ð²Ð°/ÑÐ¼Ñ‹ÑÐ»Ñ‹/ÑÑ†ÐµÐ½Ð°Ñ€Ð¸Ð¸ Ñ€ÐµÑˆÐµÐ½Ð¸Ð¹.",
                    "Ð’Ð¾Ñ€Ð¾Ð½ÐºÐ¸ Ð¿Ñ€Ð¾Ð´Ð°Ð¶ Ð¸Ð´ÐµÐ¹, Ñ€Ð°ÑÐ¿ÑƒÑ‚Ñ‹Ð²Ð°Ð½Ð¸Ðµ ÑƒÐ·Ð»Ð¾Ð² ÑƒÐ±ÐµÐ¶Ð´ÐµÐ½Ð¸Ð¹, Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° Ð¼Ñ‹ÑˆÐ»ÐµÐ½Ð¸Ñ Ð¿Ð¾Ð´ Ñ†ÐµÐ»ÑŒ.",
                    "Ð¡Ð¸Ð»ÑŒÐ½Ñ‹Ð¹ Ñ‚ÐµÐºÑÑ‚/ÑÐ»Ð¾Ð²Ð¾: ÐºÐ¾Ð³Ð´Ð° Ð¸ ÐºÐ°ÐºÐ¸Ðµ ÑÐ»Ð¾Ð²Ð° ÑÐºÐ°Ð·Ð°Ñ‚ÑŒ, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð¸Ð·Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ Ñ‚Ñ€Ð°ÐµÐºÑ‚Ð¾Ñ€Ð¸ÑŽ."
                ]
            }
        },

        "Ð˜Ð·ÑƒÐ¼Ñ€ÑƒÐ´": {
            "perception": {
                "title": "Ð˜Ð·ÑƒÐ¼Ñ€ÑƒÐ´ â€” 1 Ð¿Ð¾Ñ‚ÐµÐ½Ñ†Ð¸Ð°Ð» (Ð²Ð¾ÑÐ¿Ñ€Ð¸ÑÑ‚Ð¸Ðµ/Ð°Ð½Ð°Ð»Ð¸Ð·)",
                "lines": [
                    "ÐšÐ°Ð½Ð°Ð» Ð²Ð¾ÑÐ¿Ñ€Ð¸ÑÑ‚Ð¸Ñ: **Ð²Ð¸Ð·ÑƒÐ°Ð» + Ð¿ÐµÑ€ÐµÐ¶Ð¸Ð²Ð°Ð½Ð¸Ðµ ÑÐ¼Ð¾Ñ†Ð¸Ð¹** (ÑÐ¼Ð¿Ð°Ñ‚Ð¸Ñ).",
                    "ÐÐ½Ð°Ð»Ð¸Ð·Ð¸Ñ€ÑƒÐµÑ‚ Ñ€Ð°Ð±Ð¾Ñ‚Ð¾ÑÐ¿Ð¾ÑÐ¾Ð±Ð½Ð¾ÑÑ‚ÑŒ ÑÐ¼Ð¾Ñ†Ð¸Ð¸: Ð³Ð°Ñ€Ð¼Ð¾Ð½Ð¸Ñ/Ð´Ð¸ÑÐ³Ð°Ñ€Ð¼Ð¾Ð½Ð¸Ñ ÑÐ¼Ð¾Ñ†Ð¸Ð¹, Â«ÑÐ¼Ð¾Ñ†Ð¸Ð¸ ÐºÐ°Ðº ÐºÑ€Ð°ÑÐºÐ¸Â».",
                    "ÐŸÐ°Ð¼ÑÑ‚ÑŒ: Ð²Ð¸Ð·ÑƒÐ°Ð»ÑŒÐ½Ð°Ñ â€” Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð·Ð°Ð¿Ð¾Ð¼Ð½Ð¸Ñ‚ÑŒ, Ð½ÑƒÐ¶Ð½Ð¾ ÑƒÐ²Ð¸Ð´ÐµÑ‚ÑŒ (Ñ†Ð²ÐµÑ‚Ð°, ÑÐ¾Ñ‡ÐµÑ‚Ð°Ð½Ð¸Ñ)."
                ],
                "intuition": [
                    "Ð˜Ð½Ñ‚ÑƒÐ¸Ñ†Ð¸Ñ Ñ‡ÐµÑ€ÐµÐ· ÑÐ¼Ð¾Ñ†Ð¸Ð¸: Ð¿Ñ€ÐµÐ´ÑÑ‚Ð°Ð²Ð¸Ñ‚ÑŒ Ð²Ð°Ñ€Ð¸Ð°Ð½Ñ‚Ñ‹ â†’ Ð¿Ð¾Ñ‡ÑƒÐ²ÑÑ‚Ð²Ð¾Ð²Ð°Ñ‚ÑŒ ÑÐ¼Ð¾Ñ†Ð¸Ð¸ â†’ Ð²Ñ‹Ð±Ð¸Ñ€Ð°Ñ‚ÑŒ Ñ‚Ð°Ð¼, Ð³Ð´Ðµ Ð¿Ð¾Ð´ÑŠÑ‘Ð¼/Ð¿Ñ€Ð¸ÑÑ‚Ð½Ð¾."
                ]
            },
            "motivation": {
                "title": "Ð˜Ð·ÑƒÐ¼Ñ€ÑƒÐ´ â€” 2 Ð¿Ð¾Ñ‚ÐµÐ½Ñ†Ð¸Ð°Ð» (Ñ†ÐµÐ»ÑŒ/Ð¼Ð¾Ñ‚Ð¸Ð²Ð°Ñ†Ð¸Ñ/Ð¿Ð¾Ð·Ð¸Ñ†Ð¸Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ)",
                "lines": [
                    "ÐšÐ»ÑŽÑ‡ÐµÐ²Ð°Ñ Ñ†ÐµÐ½Ð½Ð¾ÑÑ‚ÑŒ Ñ†ÐµÐ»Ð¸: **ÐºÑ€Ð°ÑÐ¾Ñ‚Ð°, ÑÐ¼Ð¾Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð°Ñ Ð³Ð°Ñ€Ð¼Ð¾Ð½Ð¸Ñ, ÑÑ‡Ð°ÑÑ‚ÑŒÐµ, Ð¸ÑÑ†ÐµÐ»ÐµÐ½Ð¸Ðµ ÑÐ¼Ð¾Ñ†Ð¸Ð¹**.",
                    "ÐœÐ¾Ñ‚Ð¸Ð²Ð¸Ñ€ÑƒÐµÑ‚: Ð´ÐµÐ»Ð°Ñ‚ÑŒ Ð»ÑŽÐ´ÐµÐ¹ ÑÑ‡Ð°ÑÑ‚Ð»Ð¸Ð²ÐµÐµ, Ð´Ð¾Ð±Ð°Ð²Ð»ÑÑ‚ÑŒ ÐºÑ€Ð°ÑÐºÐ¸, ÑƒÐ»ÑƒÑ‡ÑˆÐ°Ñ‚ÑŒ ÑÐ¾ÑÑ‚Ð¾ÑÐ½Ð¸Ðµ, ÑÐ¾Ð·Ð´Ð°Ð²Ð°Ñ‚ÑŒ ÑÐºÐ¾Ð»Ð¾Ð³Ð¸ÑŽ ÑÐ¼Ð¾Ñ†Ð¸Ð¹.",
                    "ÐŸÐ¾Ð·Ð¸Ñ†Ð¸Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ: Ð½ÐµÐ¶Ð½Ð¾ÑÑ‚ÑŒ/Ñ€Ð¾Ð¼Ð°Ð½Ñ‚Ð¸Ð·Ð¼/ÑÑÑ‚ÐµÑ‚Ð¸ÐºÐ°, Ñ‡ÑƒÐ²ÑÑ‚Ð²ÐµÐ½Ð½Ñ‹Ð¹ ÐºÑ€Ð°ÑÐ¸Ð²Ñ‹Ð¹ Ð¾Ð±Ñ€Ð°Ð·."
                ]
            },
            "instrument": {
                "title": "Ð˜Ð·ÑƒÐ¼Ñ€ÑƒÐ´ â€” 3 Ð¿Ð¾Ñ‚ÐµÐ½Ñ†Ð¸Ð°Ð» (Ð¸Ð½ÑÑ‚Ñ€ÑƒÐ¼ÐµÐ½Ñ‚/ÐºÐ°Ðº Ð´ÐµÐ»Ð°ÑŽ)",
                "lines": [
                    "Ð˜Ð½ÑÑ‚Ñ€ÑƒÐ¼ÐµÐ½Ñ‚: **ÑÐ¼Ð¾Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾Ðµ Ð¸Ð·Ð¾Ð±Ñ€ÐµÑ‚ÐµÐ½Ð¸Ðµ** â€” ÑÐ¾Ð·Ð´Ð°Ð²Ð°Ñ‚ÑŒ/Ð¿ÐµÑ€ÐµÐ»Ð¸Ð²Ð°Ñ‚ÑŒ ÑÐ¼Ð¾Ñ†Ð¸Ð¸, ÐºÑ€Ð°ÑÐ¾Ñ‚Ñƒ, Ð°Ñ‚Ð¼Ð¾ÑÑ„ÐµÑ€Ñƒ.",
                    "Ð¨Ð°Ð±Ð»Ð¾Ð½Ñ‹ ÐºÑ€Ð°ÑÐ¾Ñ‚Ñ‹/ÑÐ¼Ð¾Ñ†Ð¸Ð¹, ÑÐ¸ÑÑ‚ÐµÐ¼Ð°Ñ‚Ð¸Ð·Ð°Ñ†Ð¸Ñ ÑÐ¼Ð¾Ñ†Ð¸Ð¹, Ð¾Ð±ÑƒÑ‡ÐµÐ½Ð¸Ðµ ÐºÑ€Ð°ÑÐ¾Ñ‚Ðµ/ÑÐ¼Ð¾Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ñ‹Ð¼ ÑÐ¸ÑÑ‚ÐµÐ¼Ð°Ð¼.",
                    "ÐŸÑ€Ð¸Ð¼ÐµÑ€ Ð¸Ð½ÑÑ‚Ñ€ÑƒÐ¼ÐµÐ½Ñ‚Ð°: Ð½ÐµÐ¹Ñ€Ð¾Ð³Ñ€Ð°Ñ„Ð¸ÐºÐ° (ÐµÑÐ»Ð¸ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ Ð² Ð¼ÐµÑ‚Ð¾Ð´Ðµ)."
                ]
            }
        },

        "Ð“Ñ€Ð°Ð½Ð°Ñ‚": {
            "perception": {
                "title": "Ð“Ñ€Ð°Ð½Ð°Ñ‚ â€” 1 Ð¿Ð¾Ñ‚ÐµÐ½Ñ†Ð¸Ð°Ð» (Ð²Ð¾ÑÐ¿Ñ€Ð¸ÑÑ‚Ð¸Ðµ/Ð°Ð½Ð°Ð»Ð¸Ð·)",
                "lines": [
                    "ÐšÐ°Ð½Ð°Ð» Ð²Ð¾ÑÐ¿Ñ€Ð¸ÑÑ‚Ð¸Ñ: **Ð¼Ð¸Ð¼Ð¸ÐºÐ° / Ð²Ñ‹Ñ€Ð°Ð¶ÐµÐ½Ð¸Ðµ ÑÐ¼Ð¾Ñ†Ð¸Ð¹** (Ñ‚ÐµÐ»Ð¾ Ð¾Ñ‚Ñ€Ð°Ð¶Ð°ÐµÑ‚ ÑÐ¼Ð¾Ñ†Ð¸ÑŽ).",
                    "ÐÐ½Ð°Ð»Ð¸Ð·Ð¸Ñ€ÑƒÐµÑ‚ Ð¸Ð½Ñ‚ÐµÑ€ÐµÑ Ðº ÑÐ¼Ð¾Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾Ð¼Ñƒ Ð¿Ñ€Ð¾Ð´ÑƒÐºÑ‚Ñƒ: ÑÐ¿Ñ€Ð¾Ñ, Ð¿Ð¾Ð¿ÑƒÐ»ÑÑ€Ð½Ð¾ÑÑ‚ÑŒ ÑÐ¼Ð¾Ñ†Ð¸Ð¸/ÐºÑ€Ð°ÑÐ¾Ñ‚Ñ‹/Ð¸ÑÐºÑƒÑÑÑ‚Ð²Ð°.",
                    "ÐŸÐ°Ð¼ÑÑ‚ÑŒ: ÑÐ¼Ð¾Ñ†Ð¸Ð¸ Ð¸ Ñ€Ð¾Ð»Ð¸ â€” Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð·Ð°Ð¿Ð¾Ð¼Ð½Ð¸Ñ‚ÑŒ, Ð½ÑƒÐ¶Ð½Ð¾ Ð¿Ð¾Ð²Ñ‚Ð¾Ñ€ÑÑ‚ÑŒ/Ð¾Ñ‚Ñ‹Ð³Ñ€Ñ‹Ð²Ð°Ñ‚ÑŒ."
                ],
                "intuition": [
                    "Ð˜Ð½Ñ‚ÑƒÐ¸Ñ†Ð¸Ñ Ñ‡ÐµÑ€ÐµÐ· Ð¼Ð¸Ð¼Ð¸ÐºÑƒ/Ð¸Ð³Ñ€Ñƒ: Ð¿Ñ€Ð¾Ð¸Ð³Ñ€Ð°Ñ‚ÑŒ ÑÑ†ÐµÐ½Ð°Ñ€Ð¸Ð¹ â†’ ÑÐ¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ Ð½Ð° Ð¼Ð¸Ð¼Ð¸Ñ‡ÐµÑÐºÑƒÑŽ Ñ€ÐµÐ°ÐºÑ†Ð¸ÑŽ Ñ‚ÐµÐ»Ð°."
                ]
            },
            "motivation": {
                "title": "Ð“Ñ€Ð°Ð½Ð°Ñ‚ â€” 2 Ð¿Ð¾Ñ‚ÐµÐ½Ñ†Ð¸Ð°Ð» (Ñ†ÐµÐ»ÑŒ/Ð¼Ð¾Ñ‚Ð¸Ð²Ð°Ñ†Ð¸Ñ/Ð¿Ð¾Ð·Ð¸Ñ†Ð¸Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ)",
                "lines": [
                    "ÐšÐ»ÑŽÑ‡ÐµÐ²Ð°Ñ Ñ†ÐµÐ½Ð½Ð¾ÑÑ‚ÑŒ Ñ†ÐµÐ»Ð¸: **ÑÐ¼Ð¾Ñ†Ð¸Ð¸, Ñ‚ÐµÐ°Ñ‚Ñ€, ÐºÑ€Ð°ÑÐ¾Ñ‚Ð°, Ð¼ÐµÑ€Ð¾Ð¿Ñ€Ð¸ÑÑ‚Ð¸Ñ, Ñ€Ð°ÑÐ¿Ñ€Ð¾ÑÑ‚Ñ€Ð°Ð½ÐµÐ½Ð¸Ðµ ÑÐ¼Ð¾Ñ†Ð¸Ð¹**.",
                    "Ð“Ð´Ðµ Ñ€ÐµÐ°Ð»Ð¸Ð·Ð¾Ð²Ð°Ñ‚ÑŒ: Ð°ÐºÑ‚Ñ‘Ñ€ÑÑ‚Ð²Ð¾, ÑÑ†ÐµÐ½Ñ‹, Ð¿Ñ€Ð¾Ð¸Ð·Ð²Ð¾Ð´ÑÑ‚Ð²Ð¾ ÐºÑ€Ð°ÑÐ¾Ñ‚Ñ‹/ÑÐ¼Ð¾Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ñ‹Ñ… Ð¿Ñ€Ð¾Ð´ÑƒÐºÑ‚Ð¾Ð².",
                    "ÐŸÐ¾Ð·Ð¸Ñ†Ð¸Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ: ÑÑ€ÐºÐ¸Ðµ Ñ€Ð¾Ð»Ð¸, ÑÐºÑÐ¿Ñ€ÐµÑÑÐ¸Ñ, Ð±Ñ€Ð¾ÑÐºÐ¸Ðµ Ð¾Ð±Ñ€Ð°Ð·Ñ‹, ÑÐ¼Ð¾Ñ†Ð¸Ñ Ð² ÐºÐ°Ð´Ñ€Ðµ."
                ]
            },
            "instrument": {
                "title": "Ð“Ñ€Ð°Ð½Ð°Ñ‚ â€” 3 Ð¿Ð¾Ñ‚ÐµÐ½Ñ†Ð¸Ð°Ð» (Ð¸Ð½ÑÑ‚Ñ€ÑƒÐ¼ÐµÐ½Ñ‚/ÐºÐ°Ðº Ð´ÐµÐ»Ð°ÑŽ)",
                "lines": [
                    "Ð˜Ð½ÑÑ‚Ñ€ÑƒÐ¼ÐµÐ½Ñ‚: **Ð¼Ð¸Ð¼Ð¸ÐºÐ° / Ñ€Ð¾Ð»ÑŒ / Ð°ÐºÑ‚Ñ‘Ñ€ÑÐºÐ°Ñ Ð¿Ð¾Ð´Ð°Ñ‡Ð°** â€” Ð²Ñ‹Ñ€Ð°Ð¶Ð°Ñ‚ÑŒ ÑÐ¼Ð¾Ñ†Ð¸ÑŽ Ð¸ Ð²Ð¾Ð²Ð»ÐµÐºÐ°Ñ‚ÑŒ Ð»ÑŽÐ´ÐµÐ¹.",
                    "ÐŸÑ€Ð¾Ð¸Ð·Ð²Ð¾Ð´ÑÑ‚Ð²Ð¾ ÑÐ¼Ð¾Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ñ‹Ñ… Ð¿Ñ€Ð¾Ð´ÑƒÐºÑ‚Ð¾Ð², ÑÐ±Ð¾Ñ€ Ð°ÑƒÐ´Ð¸Ñ‚Ð¾Ñ€Ð¸Ð¸ Ð²Ð¾ÐºÑ€ÑƒÐ³ ÑÐ¼Ð¾Ñ†Ð¸Ð¹.",
                    "Ð¡Ð¾Ð·Ð´Ð°Ñ‘Ñ‚ ÑÐ¾ÑÑ‚Ð¾ÑÐ½Ð¸Ðµ Ð³Ñ€ÑƒÐ¿Ð¿Ñ‹: Ñ€ÑÐ´Ð¾Ð¼ Â«ÑÐ¼Ð¾Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾ Ñ…Ð¾Ñ€Ð¾ÑˆÐ¾Â»."
                ]
            }
        },

        "Ð ÑƒÐ±Ð¸Ð½": {
            "perception": {
                "title": "Ð ÑƒÐ±Ð¸Ð½ â€” 1 Ð¿Ð¾Ñ‚ÐµÐ½Ñ†Ð¸Ð°Ð» (Ð²Ð¾ÑÐ¿Ñ€Ð¸ÑÑ‚Ð¸Ðµ/Ð°Ð½Ð°Ð»Ð¸Ð·)",
                "lines": [
                    "ÐšÐ°Ð½Ð°Ð» Ð²Ð¾ÑÐ¿Ñ€Ð¸ÑÑ‚Ð¸Ñ: **Ð³Ð¾Ñ€Ð¼Ð¾Ð½Ð°Ð»ÑŒÐ½Ñ‹Ð¹ Ð¾Ñ‚ÐºÐ»Ð¸Ðº / Ð²Ð¾Ð·Ð±ÑƒÐ¶Ð´Ð°ÐµÑ‚â€“Ð½Ðµ Ð²Ð¾Ð·Ð±ÑƒÐ¶Ð´Ð°ÐµÑ‚** (Ð²Ð½ÑƒÑ‚Ñ€ÐµÐ½Ð½Ð¸Ðµ Ñ„Ð¸Ð·Ð¸Ð¾Ð»Ð¾Ð³Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ Ð¿Ñ€Ð¾Ñ†ÐµÑÑÑ‹).",
                    "ÐÐ½Ð°Ð»Ð¸Ð·Ð¸Ñ€ÑƒÐµÑ‚ Ð¿Ñ€Ð¾Ð´Ð°Ð²Ð°ÐµÐ¼Ð¾ÑÑ‚ÑŒ ÑÐ¼Ð¾Ñ†Ð¸Ð¸, Ð´Ñ€Ð°Ð¼Ñƒ, ÑÑ†ÐµÐ½Ð°Ñ€Ð¸Ð¸ ÑÐ¼Ð¾Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ñ‹Ñ… Ñ€ÐµÐ°ÐºÑ†Ð¸Ð¹.",
                    "ÐŸÐ¾Ð½Ð¸Ð¼Ð°ÐµÑ‚, Ð³Ð´Ðµ ÑÐ¼Ð¾Ñ†Ð¸Ð¹ Ð´Ð¾ÑÑ‚Ð°Ñ‚Ð¾Ñ‡Ð½Ð¾, Ð³Ð´Ðµ Ð½ÑƒÐ¶Ð½Ð¾ ÑƒÑÐ¸Ð»Ð¸Ñ‚ÑŒ."
                ],
                "intuition": [
                    "Ð˜Ð½Ñ‚ÑƒÐ¸Ñ†Ð¸Ñ Ñ‡ÐµÑ€ÐµÐ· Ð³Ð¾Ñ€Ð¼Ð¾Ð½Ð°Ð»ÑŒÐ½Ñ‹Ð¹ Ð¾Ñ‚ÐºÐ»Ð¸Ðº: Â«Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¾ÐµÂ» Ð´Ð°Ñ‘Ñ‚ ÑÐ¸Ð»ÑŒÐ½Ñ‹Ð¹ Ð²Ð½ÑƒÑ‚Ñ€ÐµÐ½Ð½Ð¸Ð¹ Ð²ÑÐ¿Ð»ÐµÑÐº/Ð°Ð´Ñ€ÐµÐ½Ð°Ð»Ð¸Ð½/Ð¶ÐµÐ»Ð°Ð½Ð¸Ðµ."
                ]
            },
            "motivation": {
                "title": "Ð ÑƒÐ±Ð¸Ð½ â€” 2 Ð¿Ð¾Ñ‚ÐµÐ½Ñ†Ð¸Ð°Ð» (Ñ†ÐµÐ»ÑŒ/Ð¼Ð¾Ñ‚Ð¸Ð²Ð°Ñ†Ð¸Ñ/Ð¿Ð¾Ð·Ð¸Ñ†Ð¸Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ)",
                "lines": [
                    "ÐšÐ»ÑŽÑ‡ÐµÐ²Ð°Ñ Ñ†ÐµÐ½Ð½Ð¾ÑÑ‚ÑŒ Ñ†ÐµÐ»Ð¸: **ÑÐ¼Ð¾Ñ†Ð¸Ð¸, Ð°Ð´Ñ€ÐµÐ½Ð°Ð»Ð¸Ð½, ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ ÑÐ¼Ð¾Ñ†Ð¸ÑÐ¼Ð¸, ÑÐµÐºÑ/Ð³Ð¾Ñ€Ð¼Ð¾Ð½Ð°Ð»ÑŒÐ½Ñ‹Ðµ Ð²ÑÐ¿Ð»ÐµÑÐºÐ¸**.",
                    "Ð“Ð´Ðµ Ñ€ÐµÐ°Ð»Ð¸Ð·Ð¾Ð²Ð°Ñ‚ÑŒ: ÑˆÐ¾Ñƒ/Ð¿ÑƒÑ‚ÐµÑˆÐµÑÑ‚Ð²Ð¸Ñ/ÑÐºÑÑ‚Ñ€Ð¸Ð¼/Ñ€ÐµÐ¶Ð¸ÑÑÑƒÑ€Ð°/ÐºÐ¸Ð½Ð¾/Ð´Ñ€Ð°Ð¹Ð²Ð¾Ð²Ñ‹Ðµ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ñ‹.",
                    "ÐŸÐ¾Ð·Ð¸Ñ†Ð¸Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ: ÑÐ²Ð¾Ð±Ð¾Ð´Ð°, Ð´Ñ€Ð°Ð¹Ð², ÑÐµÐºÑÑƒÐ°Ð»ÑŒÐ½Ð¾ÑÑ‚ÑŒ, Ð¿ÑƒÑ‚ÐµÑˆÐµÑÑ‚Ð²Ð¸Ñ, ÑÐºÑÑ‚Ñ€Ð¸Ð¼."
                ]
            },
            "instrument": {
                "title": "Ð ÑƒÐ±Ð¸Ð½ â€” 3 Ð¿Ð¾Ñ‚ÐµÐ½Ñ†Ð¸Ð°Ð» (Ð¸Ð½ÑÑ‚Ñ€ÑƒÐ¼ÐµÐ½Ñ‚/ÐºÐ°Ðº Ð´ÐµÐ»Ð°ÑŽ)",
                "lines": [
                    "Ð˜Ð½ÑÑ‚Ñ€ÑƒÐ¼ÐµÐ½Ñ‚: **Ð´Ñ€Ð°Ð¼Ð°Ñ‚ÑƒÑ€Ð³Ð¸Ñ Ð¸ ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ ÑÐ¼Ð¾Ñ†Ð¸ÑÐ¼Ð¸** (ÑÐ²Ð¾Ð¸Ð¼Ð¸ Ð¸ Ð°ÑƒÐ´Ð¸Ñ‚Ð¾Ñ€Ð¸Ð¸).",
                    "Ð Ð°Ð±Ð¾Ñ‚Ð° Ñ ÑÐ¼Ð¾Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ñ‹Ð¼Ð¸ Ñ‚Ñ€Ð°Ð²Ð¼Ð°Ð¼Ð¸ (Ð·Ð°Ð¼ÐµÑ‰ÐµÐ½Ð¸Ðµ ÑÐ¼Ð¾Ñ†Ð¸Ð¹), ÑÑ†ÐµÐ½Ð°Ñ€Ð¸Ð¸ ÑÐ¼Ð¾Ñ†Ð¸Ð¹ Ñ‚Ð¾Ð»Ð¿Ñ‹, Ð¿Ñ€Ð¾Ð´Ð°Ð¶Ð¸ Ñ‡ÐµÑ€ÐµÐ· ÑÐ¼Ð¾Ñ†Ð¸ÑŽ.",
                    "Ð ÐµÐ¶Ð¸ÑÑÑƒÑ€Ð°/ÑˆÐ¾Ñƒ/Ð²ÐµÐ±Ð¸Ð½Ð°Ñ€Ñ‹/ÑÑ‚Ð¾Ñ€Ð¸Ñ ÐºÐ°Ðº ÑÐ¼Ð¾Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð°Ñ Ð¿Ð¾Ð´Ð°Ñ‡Ð°."
                ]
            }
        },

        "Ð¯Ð½Ñ‚Ð°Ñ€ÑŒ": {
            "perception": {
                "title": "Ð¯Ð½Ñ‚Ð°Ñ€ÑŒ â€” 1 Ð¿Ð¾Ñ‚ÐµÐ½Ñ†Ð¸Ð°Ð» (Ð²Ð¾ÑÐ¿Ñ€Ð¸ÑÑ‚Ð¸Ðµ/Ð°Ð½Ð°Ð»Ð¸Ð·)",
                "lines": [
                    "ÐšÐ°Ð½Ð°Ð» Ð²Ð¾ÑÐ¿Ñ€Ð¸ÑÑ‚Ð¸Ñ: **Ð¼ÐµÑ…Ð°Ð½Ð¸Ð·Ð¼ / Ð²Ð½ÑƒÑ‚Ñ€ÐµÐ½Ð½Ð¸Ðµ Ð¾Ñ‰ÑƒÑ‰ÐµÐ½Ð¸Ñ Ñ‚ÐµÐ»Ð° (Ð–ÐšÐ¢)** â€” ÐºÐ¾Ð¼Ñ„Ð¾Ñ€Ñ‚/Ð´Ð¸ÑÐºÐ¾Ð¼Ñ„Ð¾Ñ€Ñ‚.",
                    "ÐÐ½Ð°Ð»Ð¸Ð·Ð¸Ñ€ÑƒÐµÑ‚ Ñ€Ð°Ð±Ð¾Ñ‚Ð¾ÑÐ¿Ð¾ÑÐ¾Ð±Ð½Ð¾ÑÑ‚ÑŒ Ñ„Ð¸Ð·Ð¸ÐºÐ¸: Ñ‚ÐµÐ»Ð¾ ÐºÐ°Ðº Ð¼ÐµÑ…Ð°Ð½Ð¸Ð·Ð¼, Ñ‚ÐµÑ…Ð½Ð¸ÐºÐ°, ÑÑ…ÐµÐ¼Ñ‹ â€” Ñ‡Ñ‚Ð¾ ÑÐ»Ð¾Ð¼Ð°Ð½Ð¾ Ð¸ ÐºÐ°Ðº Ð¸ÑÐ¿Ñ€Ð°Ð²Ð¸Ñ‚ÑŒ.",
                    "Ð›ÑŽÐ±Ð¸Ñ‚ Ð¿Ð¾Ñ€ÑÐ´Ð¾Ðº/ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ñƒ: Ñ‡Ð¸ÑÑ‚Ð¾/Ð³Ñ€ÑÐ·Ð½Ð¾, Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚/Ð½Ðµ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚.",
                    "ÐŸÐ°Ð¼ÑÑ‚ÑŒ: Ð»ÑƒÑ‡ÑˆÐµ Ñ‡ÐµÑ€ÐµÐ· ÑÐ¸ÑÑ‚ÐµÐ¼Ð°Ñ‚Ð¸Ð·Ð°Ñ†Ð¸ÑŽ â€” ÐºÐ¾Ð½ÑÐ¿ÐµÐºÑ‚Ñ‹, Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ñ‹, Ñ€Ð°Ð·Ð¶Ñ‘Ð²Ð°Ð½Ð½Ð°Ñ ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð°."
                ],
                "intuition": [
                    "Ð˜Ð½Ñ‚ÑƒÐ¸Ñ†Ð¸Ñ Ð² Ð¶Ð¸Ð²Ð¾Ñ‚Ðµ: Ñ‚ÐµÐ»Ð¾ Ð¾Ñ‚Ð²ÐµÑ‡Ð°ÐµÑ‚ ÐºÐ¾Ð¼Ñ„Ð¾Ñ€Ñ‚Ð¾Ð¼/Ð´Ð¸ÑÐºÐ¾Ð¼Ñ„Ð¾Ñ€Ñ‚Ð¾Ð¼.",
                    "ÐŸÑ€Ð°ÐºÑ‚Ð¸ÐºÐ° Ð²Ñ‹Ð±Ð¾Ñ€Ð°: ÑÑ‚Ð¾ÑÑ‚ÑŒ Ð½Ð° Ð²Ð°Ñ€Ð¸Ð°Ð½Ñ‚Ð°Ñ… (Ð»Ð¸ÑÑ‚ÐºÐ°Ñ…) Ð¸ ÑÑ‡Ð¸Ñ‚Ñ‹Ð²Ð°Ñ‚ÑŒ Ñ‚ÐµÐ»ÐµÑÐ½Ñ‹Ð¹ Ð¾Ñ‚ÐºÐ»Ð¸Ðº."
                ]
            },
            "motivation": {
                "title": "Ð¯Ð½Ñ‚Ð°Ñ€ÑŒ â€” 2 Ð¿Ð¾Ñ‚ÐµÐ½Ñ†Ð¸Ð°Ð» (Ñ†ÐµÐ»ÑŒ/Ð¼Ð¾Ñ‚Ð¸Ð²Ð°Ñ†Ð¸Ñ/Ð¿Ð¾Ð·Ð¸Ñ†Ð¸Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ)",
                "lines": [
                    "ÐšÐ»ÑŽÑ‡ÐµÐ²Ð°Ñ Ñ†ÐµÐ½Ð½Ð¾ÑÑ‚ÑŒ Ñ†ÐµÐ»Ð¸: **ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ðµ Ð¼ÐµÑ…Ð°Ð½Ð¸Ð·Ð¼Ð¾Ð²/ÑÐ¸ÑÑ‚ÐµÐ¼** (Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ð»Ð¾ Â«ÐºÐ°Ðº Ñ‡Ð°ÑÑ‹Â»).",
                    "Ð¢Ð²Ð¾Ñ€Ñ‡ÐµÑÑ‚Ð²Ð¾: Ð¸Ð½ÑÑ‚Ñ€ÑƒÐºÑ†Ð¸Ð¸, Ñ‚ÐµÑ…Ð½Ð¸Ñ‡ÐµÑÐºÐ°Ñ Ð»Ð¸Ñ‚ÐµÑ€Ð°Ñ‚ÑƒÑ€Ð° Â«Ð¸Ð½ÑÑ‚Ñ€ÑƒÐºÑ†Ð¸Ñ Ðº Ð¿Ñ€Ð¸Ð¼ÐµÐ½ÐµÐ½Ð¸ÑŽÂ», Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ/ÑÐ¸ÑÑ‚ÐµÐ¼Ñ‹.",
                    "ÐŸÐ¾Ð·Ð¸Ñ†Ð¸Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ: ÑƒÑ‡Ñ‘Ð½Ñ‹Ð¹/Ð½Ð°ÑÑ‚Ð°Ð²Ð½Ð¸Ðº/Ð¸Ð·Ð¾Ð±Ñ€ÐµÑ‚Ð°Ñ‚ÐµÐ»ÑŒ, Ð²ÑÑ‘ Ð¿Ð¾ Ð¿Ð¾Ð»Ð¾Ñ‡ÐºÐ°Ð¼."
                ]
            },
            "instrument": {
                "title": "Ð¯Ð½Ñ‚Ð°Ñ€ÑŒ â€” 3 Ð¿Ð¾Ñ‚ÐµÐ½Ñ†Ð¸Ð°Ð» (Ð¸Ð½ÑÑ‚Ñ€ÑƒÐ¼ÐµÐ½Ñ‚/ÐºÐ°Ðº Ð´ÐµÐ»Ð°ÑŽ)",
                "lines": [
                    "Ð˜Ð½ÑÑ‚Ñ€ÑƒÐ¼ÐµÐ½Ñ‚: **Ð¼ÐµÑ…Ð°Ð½Ð¸Ñ‡ÐµÑÐºÐ¾Ðµ Ð¸Ð·Ð¾Ð±Ñ€ÐµÑ‚ÐµÐ½Ð¸Ðµ** â€” Ñ€ÑƒÐºÐ¸/ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ðµ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾Ð³Ð¾/ÑÐ¸ÑÑ‚ÐµÐ¼.",
                    "Ð¡Ð¸ÑÑ‚ÐµÐ¼Ñ‹ Ð¼ÐµÑ…Ð°Ð½Ð¸Ð·Ð¼Ð¾Ð², Ð´ÐµÑ‚Ð°Ð»ÐµÐ¹, Ð¾Ð±ÑƒÑ‡ÐµÐ½Ð¸Ðµ ÑÐ¾Ð·Ð´Ð°Ð½Ð¸ÑŽ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ñ‹Ñ… Ð¾Ð±ÑŠÐµÐºÑ‚Ð¾Ð².",
                    "ÐŸÑ€Ð¸Ð¼ÐµÑ€: Ð¼Ð°ÑÑÐ°Ð¶/Ð¾ÑÑ‚ÐµÐ¾Ð¿Ð°Ñ‚Ð¸Ñ/Ñ€Ð°Ð±Ð¾Ñ‚Ð° Ñ€ÑƒÐºÐ°Ð¼Ð¸ â€” ÐºÐ°Ðº Ð¸Ð½ÑÑ‚Ñ€ÑƒÐ¼ÐµÐ½Ñ‚ (ÐµÑÐ»Ð¸ Ð² Ð¼ÐµÑ‚Ð¾Ð´Ð¸ÐºÐµ Ñ‚Ð°Ðº Ñ‚Ñ€Ð°ÐºÑ‚ÑƒÐµÑ‚ÑÑ)."
                ]
            }
        },

        "Ð¨ÑƒÐ½Ð³Ð¸Ñ‚": {
            "perception": {
                "title": "Ð¨ÑƒÐ½Ð³Ð¸Ñ‚ â€” 1 Ð¿Ð¾Ñ‚ÐµÐ½Ñ†Ð¸Ð°Ð» (Ð²Ð¾ÑÐ¿Ñ€Ð¸ÑÑ‚Ð¸Ðµ/Ð°Ð½Ð°Ð»Ð¸Ð·)",
                "lines": [
                    "ÐšÐ°Ð½Ð°Ð» Ð²Ð¾ÑÐ¿Ñ€Ð¸ÑÑ‚Ð¸Ñ: **Ñ„Ð¾Ñ€Ð¼Ð° / Ð¿Ð»Ð¾Ñ‚Ð½Ð¾ÑÑ‚ÑŒ / Ð¼Ñ‹ÑˆÑ†Ñ‹** (Ñ€ÐµÐ°ÐºÑ†Ð¸Ñ Ð¼Ñ‹ÑˆÑ†: Ð½Ð°Ð¿Ñ€ÑÐ¶ÐµÐ½Ð¸Ðµ/Ñ€Ð°ÑÑÐ»Ð°Ð±Ð»ÐµÐ½Ð¸Ðµ).",
                    "ÐÐ½Ð°Ð»Ð¸Ð·Ð¸Ñ€ÑƒÐµÑ‚ Ñ„Ð¾Ñ€Ð¼Ñƒ Ð¸ Â«Ð¾Ñ€Ð¸Ð³Ð¸Ð½Ð°Ð»â€“Ð¿Ð¾Ð´Ð´ÐµÐ»ÐºÐ°Â», ÑÐ¿Ñ€Ð¾Ñ Ð½Ð° Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ñ‹Ðµ Ð¿Ñ€Ð¾Ð´ÑƒÐºÑ‚Ñ‹ (Ñ‡Ñ‚Ð¾ Ð·Ð°Ð¹Ð´Ñ‘Ñ‚).",
                    "Ð¥Ð¾Ñ€Ð¾ÑˆÐµÐµ Ð¿Ñ€Ð¾ÑÑ‚Ñ€Ð°Ð½ÑÑ‚Ð²ÐµÐ½Ð½Ð¾Ðµ Ð¼Ñ‹ÑˆÐ»ÐµÐ½Ð¸Ðµ (3D/Ð»Ð°Ð½Ð´ÑˆÐ°Ñ„Ñ‚/Ñ„Ð¾Ñ€Ð¼Ð°).",
                    "ÐŸÐ°Ð¼ÑÑ‚ÑŒ: Ñ‡ÐµÑ€ÐµÐ· **Ñ„Ð¸Ð·Ð¸Ñ‡ÐµÑÐºÐ¾Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ** Ð¸ Ð¼Ð½Ð¾Ð³Ð¾ÐºÑ€Ð°Ñ‚Ð½Ð¾Ðµ Ð¿Ð¾Ð²Ñ‚Ð¾Ñ€ÐµÐ½Ð¸Ðµ."
                ],
                "intuition": [
                    "Ð˜Ð½Ñ‚ÑƒÐ¸Ñ†Ð¸Ñ Ð² Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ð¸/Ð¼Ñ‹ÑˆÑ†Ð°Ñ…: Ñ‚ÐµÐ»Ð¾ Ñ‚ÑÐ½ÐµÑ‚ Ñ‚ÑƒÐ´Ð°, Ð³Ð´Ðµ Â«Ð¼Ð¾Ñ‘Â», Ð¸ Ð»ÐµÐ½Ð¸Ñ‚ÑÑ Ñ‚Ð°Ð¼, Ð³Ð´Ðµ Ð½Ðµ Ð¿ÑƒÑ‚ÑŒ.",
                    "ÐŸÑ€Ð°ÐºÑ‚Ð¸ÐºÐ° Ð²Ñ‹Ð±Ð¾Ñ€Ð°: Ð·Ð°ÐºÑ€Ñ‹Ñ‚ÑŒ Ð³Ð»Ð°Ð·Ð°, Ð¿Ñ€Ð¾ÐºÑ€ÑƒÑ‚Ð¸Ñ‚ÑŒÑÑ Ð¸ Ð¿Ð¾Ð¹Ñ‚Ð¸ Ñ‚ÑƒÐ´Ð°, ÐºÑƒÐ´Ð° Ð²ÐµÐ´Ñ‘Ñ‚ Ñ‚ÐµÐ»Ð¾."
                ]
            },
            "motivation": {
                "title": "Ð¨ÑƒÐ½Ð³Ð¸Ñ‚ â€” 2 Ð¿Ð¾Ñ‚ÐµÐ½Ñ†Ð¸Ð°Ð» (Ñ†ÐµÐ»ÑŒ/Ð¼Ð¾Ñ‚Ð¸Ð²Ð°Ñ†Ð¸Ñ/Ð¿Ð¾Ð·Ð¸Ñ†Ð¸Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ)",
                "lines": [
                    "ÐšÐ»ÑŽÑ‡ÐµÐ²Ð°Ñ Ñ†ÐµÐ½Ð½Ð¾ÑÑ‚ÑŒ Ñ†ÐµÐ»Ð¸: **ÑÐ¾Ð¾Ð±Ñ‰ÐµÑÑ‚Ð²Ð¾ / Ð±Ð»Ð¸Ð·ÐºÐ¸Ð¹ ÐºÑ€ÑƒÐ³ / Ñ„Ð¾Ñ€Ð¼Ð°/Ñ„Ð¸Ð·Ð¸ÐºÐ°/Ð¼ÐµÑ…Ð°Ð½Ð¸Ð·Ð¼Ñ‹**.",
                    "Ð¡Ð¾Ð·Ð´Ð°Ñ‘Ñ‚ ÐºÐ¾Ð¼ÑŒÑŽÐ½Ð¸Ñ‚Ð¸: ÑÐ¿Ð¾Ñ€Ñ‚, Ð¸Ð½Ð²ÐµÑÑ‚Ð¸Ñ†Ð¸Ð¸, Ñ‚ÐµÐ»ÐµÑÐ½Ñ‹Ðµ Ð¿Ñ€Ð°ÐºÑ‚Ð¸ÐºÐ¸, Ð¿Ñ€Ð¾Ð¸Ð·Ð²Ð¾Ð´ÑÑ‚Ð²Ð¾ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ñ‹Ñ… Ð²ÐµÑ‰ÐµÐ¹.",
                    "ÐŸÐ¾Ð·Ð¸Ñ†Ð¸Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ: Ð¿Ñ€Ð¾Ð²Ð¾Ð´Ð½Ð¸Ðº Ð² Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ðµ, Ñ‚ÐµÐ»ÐµÑÐ½Ð¾ÑÑ‚ÑŒ, Ñ„Ð¾Ñ€Ð¼Ð°, ÑÐ²ÑÐ·ÑŒ Ñ Ñ€Ð¾Ð´Ð¾Ð¼/Ð¿Ñ€Ð¸Ñ€Ð¾Ð´Ð¾Ð¹."
                ]
            },
            "instrument": {
                "title": "Ð¨ÑƒÐ½Ð³Ð¸Ñ‚ â€” 3 Ð¿Ð¾Ñ‚ÐµÐ½Ñ†Ð¸Ð°Ð» (Ð¸Ð½ÑÑ‚Ñ€ÑƒÐ¼ÐµÐ½Ñ‚/ÐºÐ°Ðº Ð´ÐµÐ»Ð°ÑŽ)",
                "lines": [
                    "Ð˜Ð½ÑÑ‚Ñ€ÑƒÐ¼ÐµÐ½Ñ‚: **ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ðµ ÑÐ¾Ð¾Ð±Ñ‰ÐµÑÑ‚Ð²** Ð²Ð¾ÐºÑ€ÑƒÐ³ Ñ‚ÐµÐ»ÐµÑÐ½Ð¾Ð³Ð¾/Ð¼Ð°Ñ‚ÐµÑ€Ð¸Ð°Ð»ÑŒÐ½Ð¾Ð³Ð¾, Ð¿Ñ€Ð¾Ð¸Ð·Ð²Ð¾Ð´ÑÑ‚Ð²Ð¾ Ñ„Ð¸Ð·Ð¸Ñ‡ÐµÑÐºÐ¾Ð³Ð¾ Ð¿Ñ€Ð¾Ð´ÑƒÐºÑ‚Ð°.",
                    "Ð˜Ð½ÑÑ‚Ñ€ÑƒÐ¼ÐµÐ½Ñ‚Ñ‹ Ð²Ñ‹Ñ€Ð°Ð¶ÐµÐ½Ð¸Ñ Ñ„Ð¾Ñ€Ð¼Ñ‹ Ñ‚ÐµÐ»Ð°, Ð¿Ñ€Ð°ÐºÑ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ Ð¼ÐµÑ€Ð¾Ð¿Ñ€Ð¸ÑÑ‚Ð¸Ñ, Ð¾Ð±ÑŠÐµÐ´Ð¸Ð½ÐµÐ½Ð¸Ðµ Ð»ÑŽÐ´ÐµÐ¹.",
                    "Ð¡Ð¸Ð»ÑŒÐ½Ñ‹Ð¹ ÑÑ„Ñ„ÐµÐºÑ‚: Ð»Ð°Ð´ Ð² Ð±Ð»Ð¸Ð·ÐºÐ¾Ð¼ ÐºÑ€ÑƒÐ³Ðµ (ÑÐµÐ¼ÑŒÑ/Ð¿Ð°Ñ€Ñ‚Ð½Ñ‘Ñ€Ñ‹) Ñ‡ÐµÑ€ÐµÐ· Ð¾Ð±Ñ‰Ð¸Ðµ Ð¿Ñ€Ð°ÐºÑ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ Ñ†ÐµÐ½Ð½Ð¾ÑÑ‚Ð¸."
                ]
            }
        },

        "Ð¦Ð¸Ñ‚Ñ€Ð¸Ð½": {
            "perception": {
                "title": "Ð¦Ð¸Ñ‚Ñ€Ð¸Ð½ â€” 1 Ð¿Ð¾Ñ‚ÐµÐ½Ñ†Ð¸Ð°Ð» (Ð²Ð¾ÑÐ¿Ñ€Ð¸ÑÑ‚Ð¸Ðµ/Ð°Ð½Ð°Ð»Ð¸Ð·)",
                "lines": [
                    "ÐšÐ°Ð½Ð°Ð» Ð²Ð¾ÑÐ¿Ñ€Ð¸ÑÑ‚Ð¸Ñ: **ÐºÐ¾Ð¶Ð° / Ð´Ð¸Ð½Ð°Ð¼Ð¸ÐºÐ° Ð´Ð²Ð¸Ð¶ÐµÐ½Ð¸Ñ**, Ñ‚ÐµÐ»ÐµÑÐ½Ñ‹Ðµ Ð¾Ñ‰ÑƒÑ‰ÐµÐ½Ð¸Ñ (Ð¿Ñ€Ð¸ÑÑ‚Ð½Ð¾â€“Ð½ÐµÐ¿Ñ€Ð¸ÑÑ‚Ð½Ð¾).",
                    "ÐÐ½Ð°Ð»Ð¸Ð·Ð¸Ñ€ÑƒÐµÑ‚ **ÑÑ„Ñ„ÐµÐºÑ‚Ð¸Ð²Ð½Ð¾ÑÑ‚ÑŒ Ð¸ Ñ€Ð°ÑÐ¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð¸Ðµ Ð¼Ð°Ñ‚ÐµÑ€Ð¸Ð°Ð»ÑŒÐ½Ñ‹Ñ… Ñ€ÐµÑÑƒÑ€ÑÐ¾Ð²**: Ð´ÐµÐ½ÑŒÐ³Ð¸, Ð»Ð¾Ð³Ð¸ÑÑ‚Ð¸ÐºÐ°, Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ, Ð¸Ð½Ð²ÐµÑÑ‚Ð¸Ñ†Ð¸Ð¸.",
                    "Ð’Ð¸Ð´Ð¸Ñ‚, Ñ‡Ñ‚Ð¾ Ð¿Ñ€ÐµÐ´Ð¿Ñ€Ð¸Ð½ÑÑ‚ÑŒ, Ñ‡Ñ‚Ð¾Ð±Ñ‹ ÑƒÑÐ¸Ð»Ð¸Ñ‚ÑŒ Ð´Ð¾Ñ…Ð¾Ð´/Ð¿Ñ€Ð¸Ð±Ñ‹Ð»ÑŒ, Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð¿Ñ€Ð¾Ñ†ÐµÑÑ.",
                ],
                "intuition": [
                    "Ð˜Ð½Ñ‚ÑƒÐ¸Ñ†Ð¸Ñ Ñ‡ÐµÑ€ÐµÐ· ÐºÐ¾Ð¶Ñƒ: Ð¿Ñ€Ð¸ÑÑ‚Ð½Ñ‹Ðµ/Ð½ÐµÐ¿Ñ€Ð¸ÑÑ‚Ð½Ñ‹Ðµ Ð¾Ñ‰ÑƒÑ‰ÐµÐ½Ð¸Ñ, Ð¼ÑƒÑ€Ð°ÑˆÐºÐ¸.",
                    "ÐœÐ¾Ð¶Ð½Ð¾ Ñ‚ÐµÐ»ÐµÑÐ½Ð¾ Ð¿Ñ€Ð¾ÑÐ²Ð¸Ñ‚ÑŒÑÑ (Ð´Ð²Ð¸Ð¶ÐµÐ½Ð¸Ðµ/Ñ‚Ð°Ð½ÐµÑ†) Ð¸ Ð¿Ð¾ÑÐ¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ, ÐºÐ°Ðº Ñ‚ÐµÐ»Ð¾ Ñ€ÐµÐ°Ð³Ð¸Ñ€ÑƒÐµÑ‚ Ð½Ð° Ñ€ÐµÑˆÐµÐ½Ð¸Ðµ."
                ]
            },
            "motivation": {
                "title": "Ð¦Ð¸Ñ‚Ñ€Ð¸Ð½ â€” 2 Ð¿Ð¾Ñ‚ÐµÐ½Ñ†Ð¸Ð°Ð» (Ñ†ÐµÐ»ÑŒ/Ð¼Ð¾Ñ‚Ð¸Ð²Ð°Ñ†Ð¸Ñ/Ð¿Ð¾Ð·Ð¸Ñ†Ð¸Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ)",
                "lines": [
                    "ÐšÐ»ÑŽÑ‡ÐµÐ²Ð°Ñ Ñ†ÐµÐ½Ð½Ð¾ÑÑ‚ÑŒ Ñ†ÐµÐ»Ð¸: **Ð´ÐµÐ½ÑŒÐ³Ð¸, Ð¼Ð°Ñ‚ÐµÑ€Ð¸Ð°Ð»ÑŒÐ½Ñ‹Ð¹ Ñ€Ð¾ÑÑ‚, Ð¸Ð·Ð¾Ð±Ð¸Ð»Ð¸Ðµ, Ð²Ð»Ð°ÑÑ‚ÑŒ Ð½Ð°Ð´ Ð¼Ð°Ñ‚ÐµÑ€Ð¸ÐµÐ¹**.",
                    "Ð“Ð´Ðµ Ñ€ÐµÐ°Ð»Ð¸Ð·Ð¾Ð²Ð°Ñ‚ÑŒ: Ð±Ð¸Ð·Ð½ÐµÑ/Ñ„Ð¸Ð½Ð°Ð½ÑÑ‹/Ð¸Ð½Ð²ÐµÑÑ‚Ð¸Ñ†Ð¸Ð¸ â€” Ñ‚Ð°Ð¼, Ð³Ð´Ðµ Ð¼Ð¾Ð¶Ð½Ð¾ ÑƒÐ¿Ñ€Ð°Ð²Ð»ÑÑ‚ÑŒ Ñ„Ð¸Ð½Ð°Ð½ÑÐ¾Ð²Ñ‹Ð¼ Ñ€Ð¾ÑÑ‚Ð¾Ð¼.",
                    "ÐŸÐ¾Ð·Ð¸Ñ†Ð¸Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ: Ð¿Ñ€ÐµÐ´Ð¿Ñ€Ð¸Ð½Ð¸Ð¼Ð°Ñ‚ÐµÐ»ÑŒ, ÑÑ‚Ð°Ñ‚ÑƒÑ, Ð´ÐµÐ½ÑŒÐ³Ð¸, Ñ€Ð¾ÑÐºÐ¾ÑˆÑŒ (Ð¸/Ð¸Ð»Ð¸ Ñ€Ð°Ð·Ð²Ð¸Ñ‚Ð¸Ðµ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¾Ð½Ð°Ð»Ð° Ñ‚ÐµÐ»Ð°)."
                ]
            },
            "instrument": {
                "title": "Ð¦Ð¸Ñ‚Ñ€Ð¸Ð½ â€” 3 Ð¿Ð¾Ñ‚ÐµÐ½Ñ†Ð¸Ð°Ð» (Ð¸Ð½ÑÑ‚Ñ€ÑƒÐ¼ÐµÐ½Ñ‚/ÐºÐ°Ðº Ð´ÐµÐ»Ð°ÑŽ)",
                "lines": [
                    "Ð˜Ð½ÑÑ‚Ñ€ÑƒÐ¼ÐµÐ½Ñ‚: **ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸ÑÐ¼Ð¸/Ð¿Ñ€Ð¸Ð²Ñ‹Ñ‡ÐºÐ°Ð¼Ð¸/Ñ€ÐµÑÑƒÑ€ÑÐ°Ð¼Ð¸/Ð´ÐµÐ½ÑŒÐ³Ð°Ð¼Ð¸**.",
                    "ÐžÑ€Ð³Ð°Ð½Ð¸Ð·Ð°Ñ†Ð¸Ñ, Ð»Ð¾Ð³Ð¸ÑÑ‚Ð¸ÐºÐ°, Ð¿Ñ€Ð¾Ð´Ð°Ð¶Ð¸ Ñ„Ð¸Ð·Ð¸Ñ‡ÐµÑÐºÐ¸Ñ… Ð¿Ñ€Ð¾Ð´ÑƒÐºÑ‚Ð¾Ð², ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð¿Ñ€Ð¾Ñ†ÐµÑÑÐ°Ð¼Ð¸ Ð¸ Ñ€ÐµÑÑƒÑ€ÑÐ°Ð¼Ð¸ Ð´Ñ€ÑƒÐ³Ð¸Ñ… Ð»ÑŽÐ´ÐµÐ¹.",
                    "Â«Ð¡Ð°Ð¼Ñ‹Ðµ Ð·Ð°Ð±Ð¾Ñ‚Ð»Ð¸Ð²Ñ‹ÐµÂ»: Ð¾Ñ€Ð³Ð°Ð½Ð¸Ð·Ð¾Ð²Ð°Ñ‚ÑŒ, Ð¾Ð±ÐµÑÐ¿ÐµÑ‡Ð¸Ñ‚ÑŒ, Ñ€Ð°Ð·Ð»Ð¾Ð¶Ð¸Ñ‚ÑŒ Ð¿Ð¾ Ð¼ÐµÑÑ‚Ð°Ð¼, Ð´Ð°Ñ‚ÑŒ ÑÐ¸ÑÑ‚ÐµÐ¼Ðµ Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ñ‚ÑŒ."
                ]
            }
        },
    }

    POT_4_CANON = {
        "ÐÐ¼ÐµÑ‚Ð¸ÑÑ‚": {
            "problems": [
                "Ð½Ð°Ð²ÑÐ·Ñ‡Ð¸Ð²Ñ‹Ðµ Ð¼Ñ‹ÑÐ»Ð¸ Ð¸ Ð¸Ð´ÐµÐ¸",
                "Ñ€Ð°ÑÑ„Ð¾ÐºÑƒÑÐ¸Ñ€Ð¾Ð²ÐºÐ° Ð²Ð½Ð¸Ð¼Ð°Ð½Ð¸Ñ",
                "Ð¼Ñ‹ÑÐ»ÐµÐ½Ð½Ñ‹Ð¹ Ð±ÐµÑÐ¿Ð¾Ñ€ÑÐ´Ð¾Ðº",
                "Ð¾Ñ‚ÑÑƒÑ‚ÑÑ‚Ð²Ð¸Ðµ Ð½Ð°Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ Ð¸ Ð¿ÑƒÑ‚Ð¸",
                "ÑÐ»Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸ Ñ ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸ÐµÐ¼ Ð¼Ñ‹ÑˆÐ»ÐµÐ½Ð¸ÐµÐ¼",
                "Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ñ‹ Ñ Ð¿Ñ€Ð¾Ð´Ð°Ð¶ÐµÐ¹ ÑÐ¼Ñ‹ÑÐ»Ð¾Ð², Ð¸Ð´ÐµÐ¹, Ñ„Ð¸Ð»Ð¾ÑÐ¾Ñ„Ð¸Ð¹"
            ],
            "analysis_focus": (
                "ÐÐ½Ð°Ð»Ð¸Ð· Ð¼Ñ‹ÑˆÐ»ÐµÐ½Ð¸Ñ, Ð¸Ð´ÐµÐ¹, ÑƒÐ±ÐµÐ¶Ð´ÐµÐ½Ð¸Ð¹, ÑÑ†ÐµÐ½Ð°Ñ€Ð¸ÐµÐ² Ð¿Ñ€Ð¸Ð½ÑÑ‚Ð¸Ñ Ñ€ÐµÑˆÐµÐ½Ð¸Ð¹ "
                "Ð¸ Ð¸Ñ… ÑÑ„Ñ„ÐµÐºÑ‚Ð¸Ð²Ð½Ð¾ÑÑ‚Ð¸ Ð´Ð»Ñ ÐºÐ¾Ð½ÐºÑ€ÐµÑ‚Ð½Ð¾Ð¹ Ñ†ÐµÐ»Ð¸ Ð¸ ÑÐ¸Ñ‚ÑƒÐ°Ñ†Ð¸Ð¸."
            ),
            "hobby": [
                "Ð°Ñ€Ð¾Ð¼Ð°Ñ‚ÐµÑ€Ð°Ð¿Ð¸Ñ",
                "Ð´ÐµÑ‚ÐµÐºÑ‚Ð¸Ð²Ð½Ñ‹Ðµ ÐºÐ²ÐµÑÑ‚Ñ‹",
                "Ð¿Ñ€Ð¾ÑÐ¼Ð¾Ñ‚Ñ€ Ñ‚Ñ€Ð¸Ð»Ð»ÐµÑ€Ð¾Ð²"
            ]
        },
        "Ð ÑƒÐ±Ð¸Ð½": {
            "problems": [
                "ÑÐ¼Ð¾Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ñ‹Ðµ ÑÑ€Ñ‹Ð²Ñ‹",
                "Ñ€ÐµÐ·ÐºÐ¸Ðµ Ð¿ÐµÑ€ÐµÐ¿Ð°Ð´Ñ‹ Ð½Ð°ÑÑ‚Ñ€Ð¾ÐµÐ½Ð¸Ñ",
                "Ð½ÐµÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»Ð¸Ñ€ÑƒÐµÐ¼Ð°Ñ Ð°Ð³Ñ€ÐµÑÑÐ¸Ñ",
                "Ð¸ÑÑ‚ÐµÑ€Ð¸Ñ",
                "Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ñ‹ Ñ ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸ÐµÐ¼ ÑÐ¼Ð¾Ñ†Ð¸ÑÐ¼Ð¸",
                "ÑÐ»Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸ Ñ Ð¿Ñ€Ð¾Ð´Ð°Ð¶ÐµÐ¹ ÑÐ¼Ð¾Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ñ‹Ñ… Ð¿Ñ€Ð¾Ð´ÑƒÐºÑ‚Ð¾Ð²"
            ],
            "analysis_focus": (
                "ÐÐ½Ð°Ð»Ð¸Ð· ÑÐ¼Ð¾Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ñ‹Ñ… Ñ€ÐµÐ°ÐºÑ†Ð¸Ð¹, Ð³Ð¾Ñ€Ð¼Ð¾Ð½Ð°Ð»ÑŒÐ½Ñ‹Ñ… ÑÐ¾ÑÑ‚Ð¾ÑÐ½Ð¸Ð¹ "
                "Ð¸ ÑÑ†ÐµÐ½Ð°Ñ€Ð¸ÐµÐ² ÑÐ¼Ð¾Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾Ð³Ð¾ Ð¿Ð¾Ð²ÐµÐ´ÐµÐ½Ð¸Ñ."
            ),
            "hobby": [
                "ÑÐºÑÑ‚Ñ€ÐµÐ¼Ð°Ð»ÑŒÐ½Ñ‹Ðµ Ð°Ñ‚Ñ‚Ñ€Ð°ÐºÑ†Ð¸Ð¾Ð½Ñ‹",
                "Ð¿Ñ€Ñ‹Ð¶ÐºÐ¸ Ñ Ð¿Ð°Ñ€Ð°ÑˆÑŽÑ‚Ð¾Ð¼",
                "Ð³Ð²Ð¾Ð·Ð´ÐµÑÑ‚Ð¾ÑÐ½Ð¸Ðµ",
                "Ñ„Ð¾ÐºÑƒÑ Ð½Ð° Ñ‚ÐµÐ»ÐµÑÐ½Ñ‹Ñ… Ð¾Ñ‰ÑƒÑ‰ÐµÐ½Ð¸ÑÑ…",
                "ÑÐµÐºÑÑƒÐ°Ð»ÑŒÐ½Ñ‹Ðµ Ð¿Ñ€Ð°ÐºÑ‚Ð¸ÐºÐ¸ ÐºÐ°Ðº Ñ€Ð°Ð±Ð¾Ñ‚Ð° Ñ Ð¾Ñ‰ÑƒÑ‰ÐµÐ½Ð¸ÑÐ¼Ð¸"
            ]
        },
        "Ð¦Ð¸Ñ‚Ñ€Ð¸Ð½": {
            "problems": [
                "Ñ„Ð¸Ð½Ð°Ð½ÑÐ¾Ð²Ñ‹Ðµ Ð´Ð¾Ð»Ð³Ð¸",
                "Ð½ÐµÑƒÐ¼ÐµÐ½Ð¸Ðµ ÑƒÐ¿Ñ€Ð°Ð²Ð»ÑÑ‚ÑŒ Ð´ÐµÐ½ÑŒÐ³Ð°Ð¼Ð¸",
                "ÐºÐ°ÑÑÐ¾Ð²Ñ‹Ðµ Ñ€Ð°Ð·Ñ€Ñ‹Ð²Ñ‹",
                "Ñ„Ð¸Ð½Ð°Ð½ÑÐ¾Ð²Ñ‹Ð¹ Ð¿Ð¾Ñ‚Ð¾Ð»Ð¾Ðº",
                "Ð¾Ñ‚ÑÑƒÑ‚ÑÑ‚Ð²Ð¸Ðµ Ñ€Ð¾ÑÑ‚Ð° Ð´Ð¾Ñ…Ð¾Ð´Ð°",
                "Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ñ‹ Ñ Ð¿Ñ€Ð¾Ð´Ð°Ð¶Ð°Ð¼Ð¸"
            ],
            "analysis_focus": (
                "ÐÐ½Ð°Ð»Ð¸Ð· Ð¼Ð°Ñ‚ÐµÑ€Ð¸Ð°Ð»ÑŒÐ½Ñ‹Ñ… Ñ€ÐµÑÑƒÑ€ÑÐ¾Ð², Ð´ÐµÐ½ÐµÐ³, Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ð¹ "
                "Ð¸ ÑÑ„Ñ„ÐµÐºÑ‚Ð¸Ð²Ð½Ð¾ÑÑ‚Ð¸ Ñ„Ð¸Ð½Ð°Ð½ÑÐ¾Ð²Ñ‹Ñ… Ð¸ Ð±Ð¸Ð·Ð½ÐµÑ-Ð¼ÐµÑ…Ð°Ð½Ð¸Ð·Ð¼Ð¾Ð²."
            ),
            "hobby": [
                "Ð±Ð°Ð½Ñ",
                "Ð¼Ð°ÑÑÐ°Ð¶",
                "Ñ‚Ð°ÐºÑ‚Ð¸Ð»ÑŒÐ½Ñ‹Ðµ Ð¿Ñ€Ð°ÐºÑ‚Ð¸ÐºÐ¸",
                "ÐµÐ´Ð° Ñ Ð·Ð°ÐºÑ€Ñ‹Ñ‚Ñ‹Ð¼Ð¸ Ð³Ð»Ð°Ð·Ð°Ð¼Ð¸",
                "Ñ€ÐµÑ‚Ñ€Ð¸Ñ‚Ñ‹ Ñ ÑÐµÐ½ÑÐ¾Ñ€Ð½Ñ‹Ð¼ Ñ„Ð¾ÐºÑƒÑÐ¾Ð¼"
            ]
        },
        "Ð“ÐµÐ»Ð¸Ð¾Ð´Ð¾Ñ€": {
            "problems": [
                "Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ñ‹ Ñ Ð²Ñ‹Ñ€Ð°Ð¶ÐµÐ½Ð¸ÐµÐ¼ Ð¼Ñ‹ÑÐ»ÐµÐ¹",
                "Ð¾Ñ€Ð°Ñ‚Ð¾Ñ€ÑÐºÐ¸Ðµ Ð±Ð»Ð¾ÐºÐ¸",
                "Ñ‚Ð¸Ñ…Ð¸Ð¹ Ð¸Ð»Ð¸ Ð½ÐµÐ²Ñ‹Ñ€Ð°Ð·Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ð¹ Ð³Ð¾Ð»Ð¾Ñ",
                "Ð¾Ñ‚ÑÑƒÑ‚ÑÑ‚Ð²Ð¸Ðµ Ð¿Ð¾Ð¿ÑƒÐ»ÑÑ€Ð½Ð¾ÑÑ‚Ð¸",
                "Ð½Ð¸Ð·ÐºÐ¸Ðµ Ð¾Ñ…Ð²Ð°Ñ‚Ñ‹",
                "Ð¾Ñ‚ÑÑƒÑ‚ÑÑ‚Ð²Ð¸Ðµ ÑÑ€ÐµÐ´Ñ‹ ÐµÐ´Ð¸Ð½Ð¾Ð¼Ñ‹ÑˆÐ»ÐµÐ½Ð½Ð¸ÐºÐ¾Ð²"
            ],
            "analysis_focus": (
                "ÐÐ½Ð°Ð»Ð¸Ð· Ð¿ÐµÑ€ÐµÐ´Ð°Ñ‡Ð¸ ÑÐ¼Ñ‹ÑÐ»Ð¾Ð², Ð³Ð¾Ð»Ð¾ÑÐ°, Ñ€ÐµÑ‡Ð¸, "
                "Ð¸Ð½Ñ‚ÐµÑ€ÐµÑÐ° Ð°ÑƒÐ´Ð¸Ñ‚Ð¾Ñ€Ð¸Ð¸ Ð¸ Ð¿Ð¾Ð¿ÑƒÐ»ÑÑ€Ð½Ð¾ÑÑ‚Ð¸ Ð¸Ð´ÐµÐ¹."
            ),
            "hobby": [
                "Ð´ÐµÐ³ÑƒÑÑ‚Ð°Ñ†Ð¸Ñ Ð½Ð¾Ð²Ñ‹Ñ… Ð²ÐºÑƒÑÐ¾Ð²",
                "Ñ€Ð°Ð·Ð³Ð¾Ð²Ð¾Ñ€Ñ‹ Ð¸ Ñ„Ð¸Ð»Ð¾ÑÐ¾Ñ„ÑÐºÐ¸Ðµ Ð¾Ð±ÑÑƒÐ¶Ð´ÐµÐ½Ð¸Ñ",
                "Ð¾Ð±Ð¼ÐµÐ½ Ð¼Ð½ÐµÐ½Ð¸ÑÐ¼Ð¸"
            ]
        },
        "Ð“Ñ€Ð°Ð½Ð°Ñ‚": {
            "problems": [
                "Ð¿Ð¾Ð´Ð°Ð²Ð»ÐµÐ½Ð½Ñ‹Ðµ ÑÐ¼Ð¾Ñ†Ð¸Ð¸",
                "Ð¿Ð»Ð¾Ñ…Ð°Ñ Ð¼Ð¸Ð¼Ð¸ÐºÐ°",
                "Ð½ÐµÑƒÐ¼ÐµÐ½Ð¸Ðµ Ð²Ñ‹Ñ€Ð°Ð¶Ð°Ñ‚ÑŒ ÑÐ¼Ð¾Ñ†Ð¸Ð¸",
                "ÑÐ¼Ð¾Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ñ‹Ðµ Ð±Ð»Ð¾ÐºÐ¸ Ð² Ñ‚ÐµÐ»Ðµ",
                "Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ñ‹ Ñ Ð¿Ñ€Ð¸Ð²Ð»ÐµÐºÐ°Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚ÑŒÑŽ",
                "Ð½Ð¸Ð·ÐºÐ°Ñ ÑÐ¼Ð¾Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð°Ñ Ð²Ð¾Ð²Ð»ÐµÑ‡ÐµÐ½Ð½Ð¾ÑÑ‚ÑŒ Ð°ÑƒÐ´Ð¸Ñ‚Ð¾Ñ€Ð¸Ð¸"
            ],
            "analysis_focus": (
                "ÐÐ½Ð°Ð»Ð¸Ð· ÑÐ¼Ð¾Ñ†Ð¸Ð¹, Ð¼Ð¸Ð¼Ð¸ÐºÐ¸, ÑÐ¼Ð¾Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾Ð³Ð¾ Ð¾Ñ‚ÐºÐ»Ð¸ÐºÐ° "
                "Ð¸ Ð²Ñ‹Ñ€Ð°Ð·Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚Ð¸."
            ),
            "hobby": [
                "Ð¿Ñ€Ð¾ÑÐ¼Ð¾Ñ‚Ñ€ Ð¼ÐµÐ»Ð¾Ð´Ñ€Ð°Ð¼",
                "ÑÐ¼Ð¾Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾Ðµ Ð¿Ñ€Ð¾Ð¶Ð¸Ð²Ð°Ð½Ð¸Ðµ Ñ€Ð¾Ð»ÐµÐ¹",
                "Ð¸Ð½Ñ‚ÐµÑ€Ð°ÐºÑ‚Ð¸Ð²Ð½Ñ‹Ð¹ Ñ‚ÐµÐ°Ñ‚Ñ€"
            ]
        },
        "Ð¨ÑƒÐ½Ð³Ð¸Ñ‚": {
            "problems": [
                "Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ñ‹ Ñ Ñ„Ð¾Ñ€Ð¼Ð¾Ð¹ Ñ‚ÐµÐ»Ð°",
                "ÑÐ±Ð¾Ð¸ Ð² Ð¿Ñ€Ð¾Ð¸Ð·Ð²Ð¾Ð´ÑÑ‚Ð²Ðµ",
                "Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ñ‹ Ñ Ñ„Ð¸Ð·Ð¸Ñ‡ÐµÑÐºÐ¸Ð¼Ð¸ Ð¿Ñ€Ð¾Ð´ÑƒÐºÑ‚Ð°Ð¼Ð¸",
                "ÐºÐ¾Ð½Ñ„Ð»Ð¸ÐºÑ‚Ñ‹ Ð² Ð±Ð»Ð¸Ð·ÐºÐ¾Ð¼ ÐºÑ€ÑƒÐ³Ðµ"
            ],
            "analysis_focus": (
                "ÐÐ½Ð°Ð»Ð¸Ð· Ñ„Ð¾Ñ€Ð¼Ñ‹, Ñ„Ð¸Ð·Ð¸ÐºÐ¸, Ñ‚ÐµÐ»Ð°, Ð¿Ñ€Ð¾Ð¸Ð·Ð²Ð¾Ð´ÑÑ‚Ð²Ð° "
                "Ð¸ Ð¼ÐµÑ…Ð°Ð½Ð¸Ñ‡ÐµÑÐºÐ¸Ñ… Ð¿Ñ€Ð¾Ñ†ÐµÑÑÐ¾Ð²."
            ),
            "hobby": [
                "Ñ‚Ñ€ÐµÐ½Ð°Ð¶Ñ‘Ñ€Ð½Ñ‹Ð¹ Ð·Ð°Ð»",
                "Ñ€Ð°Ð±Ð¾Ñ‚Ð° Ñ Ð¼Ñ‹ÑˆÐµÑ‡Ð½Ñ‹Ð¼Ð¸ Ð¾Ñ‰ÑƒÑ‰ÐµÐ½Ð¸ÑÐ¼Ð¸",
                "Ñ‚ÐµÐ»ÐµÑÐ½Ð°Ñ Ð½Ð°Ð³Ñ€ÑƒÐ·ÐºÐ°"
            ]
        },
        "Ð¡Ð°Ð¿Ñ„Ð¸Ñ€": {
            "problems": [
                "Ð½ÐµÑ…Ð²Ð°Ñ‚ÐºÐ° Ð·Ð½Ð°Ð½Ð¸Ð¹",
                "Ð¿Ð¾Ð»Ð¾Ð¼ÐºÐ¸ Ð² Ð¼Ñ‹ÑˆÐ»ÐµÐ½Ð¸Ð¸",
                "Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð½Ñ‹Ðµ ÑƒÐ±ÐµÐ¶Ð´ÐµÐ½Ð¸Ñ",
                "Ð¾Ñ‚ÑÑƒÑ‚ÑÑ‚Ð²Ð¸Ðµ Ð¾Ñ‚Ð²ÐµÑ‚Ð¾Ð² Ð¸ ÑÐ¼Ñ‹ÑÐ»Ð¾Ð²"
            ],
            "analysis_focus": (
                "ÐÐ½Ð°Ð»Ð¸Ð· ÑÐ¼Ñ‹ÑÐ»Ð¾Ð², Ð¸Ð´ÐµÐ¹, ÑƒÐ±ÐµÐ¶Ð´ÐµÐ½Ð¸Ð¹, "
                "Ñ„Ð¸Ð»Ð¾ÑÐ¾Ñ„Ð¸Ð¸ Ð¸ Ñ†ÐµÐ»Ð¾ÑÑ‚Ð½Ð¾ÑÑ‚Ð¸ Ð¼Ñ‹ÑˆÐ»ÐµÐ½Ð¸Ñ."
            ),
            "hobby": [
                "Ð¼ÑƒÐ·Ñ‹ÐºÐ°Ð»ÑŒÐ½Ñ‹Ðµ ÐºÐ¾Ð½Ñ†ÐµÑ€Ñ‚Ñ‹",
                "ÑÐ»ÑƒÑˆÐ°Ð½Ð¸Ðµ Ð·Ð²ÑƒÐºÐ¾Ð²",
                "Ð¿Ð¾ÑŽÑ‰Ð¸Ðµ Ñ‡Ð°ÑˆÐ¸",
                "Ð¼ÐµÐ´Ð¸Ñ‚Ð°Ñ†Ð¸Ñ Ð² Ñ‚Ð¸ÑˆÐ¸Ð½Ðµ",
                "Ð°ÑÑ‚Ñ€Ð¾Ð½Ð¾Ð¼Ð¸Ñ"
            ]
        },
        "Ð˜Ð·ÑƒÐ¼Ñ€ÑƒÐ´": {
            "problems": [
                "ÑÐ¼Ð¾Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾Ðµ Ð²Ñ‹Ð³Ð¾Ñ€Ð°Ð½Ð¸Ðµ",
                "Ð´ÐµÐ¿Ñ€ÐµÑÑÐ¸Ñ",
                "Ð¾Ñ‚ÑÑƒÑ‚ÑÑ‚Ð²Ð¸Ðµ Ð¸Ð½Ñ‚ÐµÑ€ÐµÑÐ° Ðº Ð¶Ð¸Ð·Ð½Ð¸",
                "Ð¿Ð¾Ð´Ð°Ð²Ð»ÐµÐ½Ð½Ñ‹Ðµ ÑÐ¼Ð¾Ñ†Ð¸Ð¸",
                "Ð½Ð°Ñ€ÑƒÑˆÐµÐ½Ð¸Ðµ ÑÐ¼Ð¾Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾Ð¹ Ð³Ð°Ñ€Ð¼Ð¾Ð½Ð¸Ð¸",
                "Ð¾Ñ‚ÑÑƒÑ‚ÑÑ‚Ð²Ð¸Ðµ Ñ‡ÑƒÐ²ÑÑ‚Ð²Ð° ÐºÑ€Ð°ÑÐ¾Ñ‚Ñ‹"
            ],
            "analysis_focus": (
                "ÐÐ½Ð°Ð»Ð¸Ð· ÑÐ¼Ð¾Ñ†Ð¸Ð¹, Ð²Ð¸Ð·ÑƒÐ°Ð»ÑŒÐ½Ð¾Ð¹ Ð³Ð°Ñ€Ð¼Ð¾Ð½Ð¸Ð¸, "
                "ÐºÑ€Ð°ÑÐ¾Ñ‚Ñ‹ Ð¸ ÑÐ¼Ð¾Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾Ð³Ð¾ ÑÐ¾ÑÑ‚Ð¾ÑÐ½Ð¸Ñ."
            ),
            "hobby": [
                "Ñ„Ð¾Ñ‚Ð¾ÑÐµÑÑÐ¸Ð¸",
                "Ð²Ñ‹ÑÑ‚Ð°Ð²ÐºÐ¸",
                "Ð¿Ñ€Ð¸Ñ€Ð¾Ð´Ð°",
                "Ñ€Ð°Ð±Ð¾Ñ‚Ð° Ñ Ð²Ð¸Ð·ÑƒÐ°Ð»ÑŒÐ½Ð¾Ð¹ ÑÑÑ‚ÐµÑ‚Ð¸ÐºÐ¾Ð¹",
                "ÑÐ¼ÐµÐ½Ð° Ð¾Ð±Ñ€Ð°Ð·Ð¾Ð²"
            ]
        },
        "Ð¯Ð½Ñ‚Ð°Ñ€ÑŒ": {
            "problems": [
                "Ð¾Ñ‚ÑÑƒÑ‚ÑÑ‚Ð²Ð¸Ðµ ÑÐ¸ÑÑ‚ÐµÐ¼Ð½Ð¾ÑÑ‚Ð¸",
                "Ð¿Ð¾Ð»Ð¾Ð¼ÐºÐ¸ Ñ‚ÐµÐ»Ð° Ð¸Ð»Ð¸ Ñ‚ÐµÑ…Ð½Ð¸ÐºÐ¸",
                "Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ñ‹ Ñ Ð¾Ð±ÑƒÑ‡ÐµÐ½Ð¸ÐµÐ¼",
                "Ð½ÐµÑ…Ð²Ð°Ñ‚ÐºÐ° ÑÑ‚Ð°Ð±Ð¸Ð»ÑŒÐ½Ð¾ÑÑ‚Ð¸",
                "Ð¾Ñ‚ÑÑƒÑ‚ÑÑ‚Ð²Ð¸Ðµ Ñ‡ÑƒÐ²ÑÑ‚Ð²Ð° Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚Ð¸"
            ],
            "analysis_focus": (
                "ÐÐ½Ð°Ð»Ð¸Ð· Ð¼ÐµÑ…Ð°Ð½Ð¸Ð·Ð¼Ð¾Ð², ÑÐ¸ÑÑ‚ÐµÐ¼, Ñ‚ÐµÐ»ÐµÑÐ½Ñ‹Ñ… "
                "Ð¸ ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð½Ñ‹Ñ… Ð¿Ñ€Ð¾Ñ†ÐµÑÑÐ¾Ð²."
            ),
            "hobby": [
                "Ð°Ñ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ð°",
                "Ð²Ñ‹ÑÑ‚Ð°Ð²ÐºÐ¸ Ð¼Ð°ÑˆÐ¸Ð½",
                "Ð¸Ð·ÑƒÑ‡ÐµÐ½Ð¸Ðµ Ð¼ÐµÑ…Ð°Ð½Ð¸Ð·Ð¼Ð¾Ð²",
                "Ð²Ñ‹ÑÑ‚Ð°Ð²ÐºÐ¸ Ñ€Ð¾Ð±Ð¾Ñ‚Ð¾Ð²"
            ]
        }
    }

    POT_5_CANON = {
        "ÐÐ¼ÐµÑ‚Ð¸ÑÑ‚": {
            "mission": [
                "Ñ€Ð¾ÑÑ‚ Ð² ÑÐ¼Ñ‹ÑÐ»Ð¾Ð²Ñ‹Ñ… Ð¸ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ð¾Ð½Ð½Ñ‹Ñ… Ñ€ÐµÑÑƒÑ€ÑÐ°Ñ…",
                "Ð¾Ñ€Ð³Ð°Ð½Ð¸Ð·Ð°Ñ†Ð¸Ñ Ð·Ð½Ð°Ð½Ð¸Ð¹ Ð¸ Ð¼ÐµÑ‚Ð¾Ð´Ð¾Ð»Ð¾Ð³Ð¸Ð¹",
                "Ñ‚Ñ€Ð°Ð½ÑÑ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ Ð¼Ñ‹ÑˆÐ»ÐµÐ½Ð¸Ñ",
                "Ð²Ð½ÐµÐ´Ñ€ÐµÐ½Ð¸Ðµ Ð¸Ð´ÐµÐ¹ Ð² Ð¼Ð°ÑÑÑ‹"
            ]
        },
        "Ð ÑƒÐ±Ð¸Ð½": {
            "mission": [
                "Ñ€Ð¾ÑÑ‚ Ð² ÑÐ¼Ð¾Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ñ‹Ñ… Ñ€ÐµÑÑƒÑ€ÑÐ°Ñ…",
                "ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ ÑÐ¼Ð¾Ñ†Ð¸ÑÐ¼Ð¸ Ñ‚Ð¾Ð»Ð¿Ñ‹",
                "ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ðµ ÑÐ¼Ð¾Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ñ‹Ñ… Ð¼ÐµÑ€Ð¾Ð¿Ñ€Ð¸ÑÑ‚Ð¸Ð¹",
                "Ð¿Ñ€Ð¾Ð´Ð°Ð¶Ð° ÑÐ¼Ð¾Ñ†Ð¸Ð¹"
            ]
        },
        "Ð¦Ð¸Ñ‚Ñ€Ð¸Ð½": {
            "mission": [
                "Ñ€Ð¾ÑÑ‚ Ð¼Ð°Ñ‚ÐµÑ€Ð¸Ð°Ð»ÑŒÐ½Ñ‹Ñ… Ñ€ÐµÑÑƒÑ€ÑÐ¾Ð²",
                "ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð´ÐµÐ½ÑŒÐ³Ð°Ð¼Ð¸ Ð¸ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸ÑÐ¼Ð¸",
                "ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ðµ Ñ„Ð¸Ð½Ð°Ð½ÑÐ¾Ð²Ñ‹Ñ… Ð¸ÑÑ‚Ð¾Ñ‡Ð½Ð¸ÐºÐ¾Ð²",
                "Ð²Ñ‹Ñ…Ð¾Ð´ Ð½Ð° Ð½Ð¾Ð²Ñ‹Ð¹ Ñ„Ð¸Ð½Ð°Ð½ÑÐ¾Ð²Ñ‹Ð¹ ÑƒÑ€Ð¾Ð²ÐµÐ½ÑŒ"
            ]
        },
        "Ð“ÐµÐ»Ð¸Ð¾Ð´Ð¾Ñ€": {
            "mission": [
                "Ñ€Ð¾ÑÑ‚ Ð¿Ð¾Ð¿ÑƒÐ»ÑÑ€Ð½Ð¾ÑÑ‚Ð¸ ÑÐ¼Ñ‹ÑÐ»Ð¾Ð²Ð¾Ð³Ð¾ Ð¿Ñ€Ð¾Ð´ÑƒÐºÑ‚Ð°",
                "Ñ€Ð°ÑÐ¿Ñ€Ð¾ÑÑ‚Ñ€Ð°Ð½ÐµÐ½Ð¸Ðµ Ð¸Ð´ÐµÐ¹",
                "ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ðµ ÑÐ¾Ð¾Ð±Ñ‰ÐµÑÑ‚Ð²Ð° Ð²Ð¾ÐºÑ€ÑƒÐ³ Ñ„Ð¸Ð»Ð¾ÑÐ¾Ñ„Ð¸Ð¸",
                "Ð¼Ð°ÑÑÐ¾Ð²Ð°Ñ Ð¿ÐµÑ€ÐµÐ´Ð°Ñ‡Ð° Ð·Ð½Ð°Ð½Ð¸Ð¹"
            ]
        },
        "Ð“Ñ€Ð°Ð½Ð°Ñ‚": {
            "mission": [
                "Ð¿Ð¾Ð¿ÑƒÐ»ÑÑ€Ð¸Ð·Ð°Ñ†Ð¸Ñ ÑÐ¼Ð¾Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾Ð³Ð¾ Ð¿Ñ€Ð¾Ð´ÑƒÐºÑ‚Ð°",
                "Ñ€Ð°ÑÐ¿Ñ€Ð¾ÑÑ‚Ñ€Ð°Ð½ÐµÐ½Ð¸Ðµ ÐºÑ€Ð°ÑÐ¾Ñ‚Ñ‹",
                "ÑÐ¼Ð¾Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð°Ñ Ð²Ð¾Ð²Ð»ÐµÑ‡Ñ‘Ð½Ð½Ð¾ÑÑ‚ÑŒ Ð°ÑƒÐ´Ð¸Ñ‚Ð¾Ñ€Ð¸Ð¸"
            ]
        },
        "Ð¨ÑƒÐ½Ð³Ð¸Ñ‚": {
            "mission": [
                "Ð¼Ð°ÑÑÐ¾Ð²Ð¾Ðµ Ð¿Ñ€Ð¾Ð¸Ð·Ð²Ð¾Ð´ÑÑ‚Ð²Ð¾ Ñ„Ð¸Ð·Ð¸Ñ‡ÐµÑÐºÐ¾Ð³Ð¾ Ð¿Ñ€Ð¾Ð´ÑƒÐºÑ‚Ð°",
                "Ñ„Ð¾Ñ€Ð¼Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ ÑÐ¿Ñ€Ð¾ÑÐ° Ð½Ð° Ñ‚ÐµÐ»ÐµÑÐ½Ñ‹Ðµ Ð¸ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ñ‹Ðµ Ñ€ÐµÑˆÐµÐ½Ð¸Ñ",
                "ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ðµ ÑÐ¾Ð¾Ð±Ñ‰ÐµÑÑ‚Ð²"
            ]
        },
        "Ð¡Ð°Ð¿Ñ„Ð¸Ñ€": {
            "mission": [
                "Ð¸Ð·Ð¾Ð±Ñ€ÐµÑ‚ÐµÐ½Ð¸Ðµ Ð½Ð¾Ð²Ñ‹Ñ… ÑÐ¼Ñ‹ÑÐ»Ð¾Ð²",
                "Ñ€Ð°ÑÑˆÐ¸Ñ€ÐµÐ½Ð¸Ðµ Ð³Ñ€Ð°Ð½Ð¸Ñ† Ð¼Ñ‹ÑˆÐ»ÐµÐ½Ð¸Ñ",
                "ÑÐ¸ÑÑ‚ÐµÐ¼Ð°Ñ‚Ð¸Ð·Ð°Ñ†Ð¸Ñ Ð·Ð½Ð°Ð½Ð¸Ð¹",
                "Ð¾Ð±ÑƒÑ‡ÐµÐ½Ð¸Ðµ Ð¸ Ð¿ÐµÑ€ÐµÐ´Ð°Ñ‡Ð° Ð¾Ð¿Ñ‹Ñ‚Ð°"
            ]
        },
        "Ð˜Ð·ÑƒÐ¼Ñ€ÑƒÐ´": {
            "mission": [
                "ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ðµ Ð½Ð¾Ð²Ñ‹Ñ… ÑÐ¼Ð¾Ñ†Ð¸Ð¹",
                "Ð³Ð°Ñ€Ð¼Ð¾Ð½Ð¸Ð·Ð°Ñ†Ð¸Ñ ÑÐ¼Ð¾Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾Ð³Ð¾ ÑÐ¾ÑÑ‚Ð¾ÑÐ½Ð¸Ñ",
                "ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ðµ ÐºÑ€Ð°ÑÐ¾Ñ‚Ñ‹"
            ]
        },
        "Ð¯Ð½Ñ‚Ð°Ñ€ÑŒ": {
            "mission": [
                "ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ðµ Ð¼ÐµÑ…Ð°Ð½Ð¸Ð·Ð¼Ð¾Ð² Ð¸ ÑÐ¸ÑÑ‚ÐµÐ¼",
                "Ð¸ÑÑ†ÐµÐ»ÐµÐ½Ð¸Ðµ Ñ‚ÐµÐ»Ð°",
                "Ð¾Ð±ÑƒÑ‡ÐµÐ½Ð¸Ðµ Ð¸ Ð¿ÐµÑ€ÐµÐ´Ð°Ñ‡Ð° Ð¿Ñ€Ð¸ÐºÐ»Ð°Ð´Ð½Ð¾Ð³Ð¾ Ð¾Ð¿Ñ‹Ñ‚Ð°"
            ]
        }
    }

    POT_6_CANON = {
        "ÐÐ¼ÐµÑ‚Ð¸ÑÑ‚": {
            "result": "Ð Ð¾ÑÑ‚ ÑÐ¼Ñ‹ÑÐ»Ð¾Ð²Ñ‹Ñ… Ñ€ÐµÑÑƒÑ€ÑÐ¾Ð² Ð¸ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ðµ Ð¼Ñ‹ÑˆÐ»ÐµÐ½Ð¸Ñ",
            "collective_hobby": [
                "Ð´ÐµÑ‚ÐµÐºÑ‚Ð¸Ð²Ð½Ñ‹Ðµ Ð¸Ð³Ñ€Ñ‹",
                "Ð¼Ð°Ñ„Ð¸Ñ",
                "Ð¸Ð½Ñ‚ÐµÐ»Ð»ÐµÐºÑ‚ÑƒÐ°Ð»ÑŒÐ½Ñ‹Ðµ ÐºÐ²ÐµÑÑ‚Ñ‹",
                "ÑÐ¾Ð²Ð¼ÐµÑÑ‚Ð½Ñ‹Ðµ Ñ€Ð°Ð·Ð¼Ñ‹ÑˆÐ»ÐµÐ½Ð¸Ñ"
            ]
        },
        "Ð¦Ð¸Ñ‚Ñ€Ð¸Ð½": {
            "result": "Ð Ð¾ÑÑ‚ Ð¼Ð°Ñ‚ÐµÑ€Ð¸Ð°Ð»ÑŒÐ½Ñ‹Ñ… Ñ€ÐµÑÑƒÑ€ÑÐ¾Ð² Ð¸ Ñ„Ð¸Ð½Ð°Ð½ÑÐ¾Ð²Ð¾Ð¹ ÑƒÑÑ‚Ð¾Ð¹Ñ‡Ð¸Ð²Ð¾ÑÑ‚Ð¸",
            "collective_hobby": [
                "Ð¾Ñ€Ð³Ð°Ð½Ð¸Ð·Ð°Ñ†Ð¸Ñ Ð¼ÐµÑ€Ð¾Ð¿Ñ€Ð¸ÑÑ‚Ð¸Ð¹",
                "ÑÐ¾Ð²Ð¼ÐµÑÑ‚Ð½Ð¾Ðµ Ð¿Ð»Ð°Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ"
            ]
        },
        "Ð“ÐµÐ»Ð¸Ð¾Ð´Ð¾Ñ€": {
            "result": "Ð Ð¾ÑÑ‚ Ð¿Ð¾Ð¿ÑƒÐ»ÑÑ€Ð½Ð¾ÑÑ‚Ð¸ Ð¸ Ð¿Ñ€Ð¸Ð·Ð½Ð°Ð½Ð¸Ñ",
            "collective_hobby": [
                "Ñ€Ð°ÑÑÐºÐ°Ð·Ñ‹Ð²Ð°Ð½Ð¸Ðµ Ð¸ÑÑ‚Ð¾Ñ€Ð¸Ð¹",
                "Ð¿ÐµÐ½Ð¸Ðµ",
                "Ð²ÐµÐ´ÐµÐ½Ð¸Ðµ Ð¼ÐµÑ€Ð¾Ð¿Ñ€Ð¸ÑÑ‚Ð¸Ð¹"
            ]
        },
        "Ð“Ñ€Ð°Ð½Ð°Ñ‚": {
            "result": "Ð Ð¾ÑÑ‚ ÑÐ¼Ð¾Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾Ð¹ Ð²Ð¾Ð²Ð»ÐµÑ‡ÐµÐ½Ð½Ð¾ÑÑ‚Ð¸ Ð¸ Ð¿Ñ€Ð¸Ð²Ð»ÐµÐºÐ°Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚Ð¸",
            "collective_hobby": [
                "Ð²ÐµÑ‡ÐµÑ€Ð¸Ð½ÐºÐ¸",
                "ÑÐ¼Ð¾Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ñ‹Ðµ ÑˆÐ¾Ñƒ",
                "ÑÐ¾Ð²Ð¼ÐµÑÑ‚Ð½Ñ‹Ðµ Ñ€Ð°Ð·Ð²Ð»ÐµÑ‡ÐµÐ½Ð¸Ñ"
            ]
        },
        "Ð¨ÑƒÐ½Ð³Ð¸Ñ‚": {
            "result": "Ð Ð¾ÑÑ‚ Ñ„Ð¸Ð·Ð¸Ñ‡ÐµÑÐºÐ¸Ñ… ÑÐ¾Ð¾Ð±Ñ‰ÐµÑÑ‚Ð² Ð¸ Ð¿Ñ€Ð¾Ð¸Ð·Ð²Ð¾Ð´ÑÑ‚Ð²Ð°",
            "collective_hobby": [
                "Ð¿Ð¾Ñ…Ð¾Ð´Ñ‹",
                "Ð°ÐºÑ‚Ð¸Ð²Ð½Ñ‹Ð¹ Ð¾Ñ‚Ð´Ñ‹Ñ…"
            ]
        },
        "Ð¡Ð°Ð¿Ñ„Ð¸Ñ€": {
            "result": "ÐÐ¾Ð²Ñ‹Ðµ Ð¸Ð´ÐµÐ¸ Ð¸ ÑÐ¸ÑÑ‚ÐµÐ¼Ð½Ð¾Ðµ Ð¼Ñ‹ÑˆÐ»ÐµÐ½Ð¸Ðµ",
            "collective_hobby": [
                "Ñ„Ð¸Ð»Ð¾ÑÐ¾Ñ„ÑÐºÐ¸Ðµ Ð¾Ð±ÑÑƒÐ¶Ð´ÐµÐ½Ð¸Ñ",
                "ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ðµ ÑÑ†ÐµÐ½Ð°Ñ€Ð¸ÐµÐ²",
                "Ð»Ð¾Ð³Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ Ð¸Ð³Ñ€Ñ‹"
            ]
        },
        "Ð˜Ð·ÑƒÐ¼Ñ€ÑƒÐ´": {
            "result": "Ð­Ð¼Ð¾Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð°Ñ Ð³Ð°Ñ€Ð¼Ð¾Ð½Ð¸Ñ Ð¸ ÐºÑ€Ð°ÑÐ¾Ñ‚Ð°",
            "collective_hobby": [
                "ÑÑ‚Ð¸Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ",
                "ÑÐ¾Ð²Ð¼ÐµÑÑ‚Ð½Ð¾Ðµ Ñ‚Ð²Ð¾Ñ€Ñ‡ÐµÑÑ‚Ð²Ð¾"
            ]
        },
        "Ð¯Ð½Ñ‚Ð°Ñ€ÑŒ": {
            "result": "Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ Ð½Ð¾Ð²Ñ‹Ñ… Ð¼ÐµÑ…Ð°Ð½Ð¸Ð·Ð¼Ð¾Ð² Ð¸ Ñ‚ÐµÐ»ÐµÑÐ½Ð¾Ðµ Ð²Ð¾ÑÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ",
            "collective_hobby": [
                "Ð¼ÑƒÐ·Ñ‹ÐºÐ° Ñƒ ÐºÐ¾ÑÑ‚Ñ€Ð°",
                "Ð¿Ñ€Ð¸ÐºÐ»Ð°Ð´Ð½Ð¾Ðµ Ñ‚Ð²Ð¾Ñ€Ñ‡ÐµÑÑ‚Ð²Ð¾"
            ]
        }
    }

    return POT_CANON_1_3, POT_4_CANON, POT_5_CANON, POT_6_CANON

# --- initialize canon dicts into globals (IMPORTANT) ---
POT_CANON_1_3, POT_4_CANON, POT_5_CANON, POT_6_CANON = load_spch_canon()

# =========================
# OpenAI helper
# =========================
def get_openai_client():
    if not OPENAI_API_KEY or not OpenAI:
        return None
    return OpenAI(api_key=OPENAI_API_KEY)


# =========================
# Parsing potentials 1..9
# =========================
DEFAULT_NAMES = ["ÐÐ¼ÐµÑ‚Ð¸ÑÑ‚","Ð“Ñ€Ð°Ð½Ð°Ñ‚","Ð¦Ð¸Ñ‚Ñ€Ð¸Ð½","Ð¡Ð°Ð¿Ñ„Ð¸Ñ€","Ð“ÐµÐ»Ð¸Ð¾Ð´Ð¾Ñ€","Ð˜Ð·ÑƒÐ¼Ñ€ÑƒÐ´","Ð¯Ð½Ñ‚Ð°Ñ€ÑŒ","Ð¨ÑƒÐ½Ð³Ð¸Ñ‚","Ð ÑƒÐ±Ð¸Ð½"]

def _clean_pot_name(x: str) -> str:
    return norm_pot_name((x or "").strip(" \t\r\n-â€“â€”â€¢*,:;").strip())

def parse_potentials_9(raw: str) -> List[str]:
    if not raw:
        return []
    s = raw.strip()

    # Try numbered 1..9
    numbered = []
    for i in range(1, 10):
        m = re.search(
            rf"(?:(?:^|\n|\s){i}\s*[\.\)]\s*)(.+?)(?=(?:\n|\s)(?:{i+1}\s*[\.\)]|$))",
            s, flags=re.S
        )
        if m:
            val = _clean_pot_name(m.group(1))
            if val:
                numbered.append(val)

    if len(numbered) >= 9:
        return numbered[:9]

    # Split lines/commas/semicolons/pipes
    s2 = re.sub(r"[\u2022â€¢]", "\n", s)
    s2 = s2.replace(";", "\n").replace(",", "\n").replace("|", "\n")
    lines = [ln.strip() for ln in s2.splitlines() if ln.strip()]

    cleaned = []
    for ln in lines:
        ln = re.sub(r"^\d+\s*[\.\)]\s*", "", ln).strip()
        ln = ln.split("â€”")[0].split("-")[0].strip()
        if ln:
            cleaned.append(_clean_pot_name(ln))

    flat = [x for x in cleaned if x]

    # fill to 9
    existing = {x.lower() for x in flat}
    for name in DEFAULT_NAMES:
        if len(flat) >= 9:
            break
        if name.lower() not in existing:
            flat.append(name)
            existing.add(name.lower())

    return flat[:9]


def build_matrix_md(p9: List[str]) -> str:
    if len(p9) < 9:
        return "â€”"
    pos1, pos2, pos3, pos4, pos5, pos6, pos7, pos8, pos9 = p9[:9]
    md = []
    md.append("| Ð ÑÐ´ | Ð’Ð¾ÑÐ¿Ñ€Ð¸ÑÑ‚Ð¸Ðµ | ÐœÐ¾Ñ‚Ð¸Ð²Ð°Ñ†Ð¸Ñ | Ð˜Ð½ÑÑ‚Ñ€ÑƒÐ¼ÐµÐ½Ñ‚ |")
    md.append("|---|---|---|---|")
    md.append(f"| 1 (ÑÐ´Ñ€Ð¾ / 60%) | {pos1} | {pos2} | {pos3} |")
    md.append(f"| 2 (Ð½Ð°Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ðµ / 30%) | {pos4} | {pos5} | {pos6} |")
    md.append(f"| 3 (Ñ€Ð¸ÑÐºÐ¸ / 10%) | {pos7} | {pos8} | {pos9} |")
    return "\n".join(md)


# =========================
# Canon -> Unified Report (NO DUPLICATES)
# =========================

def _pot_key(p: str) -> str:
    """ÐÐ¾Ñ€Ð¼Ð°Ð»Ð¸Ð·ÑƒÐµÑ‚ Ð¸Ð¼Ñ Ð¿Ð¾Ñ‚ÐµÐ½Ñ†Ð¸Ð°Ð»Ð° Ð¿Ð¾Ð´ ÐºÐ»ÑŽÑ‡ ÑÐ»Ð¾Ð²Ð°Ñ€ÐµÐ¹ ÐºÐ°Ð½Ð¾Ð½Ð°."""
    return str(p or "").strip()

# =========================
# Canon -> Unified Report (STABLE, NO DRIFT)
# =========================

def _pot_key(p: str) -> str:
    return str(p or "").strip()

def _canon_dict_to_md(d: dict) -> str:
    if not d:
        return "â€”"
    lines = []
    for k, v in d.items():
        if v in (None, "", [], {}):
            continue
        title = str(k).replace("_", " ").strip().capitalize()

        if isinstance(v, str):
            lines.append(f"**{title}:** {v.strip()}")

        elif isinstance(v, list):
            items = [str(x).strip() for x in v if str(x).strip()]
            if items:
                lines.append(f"**{title}:**")
                lines.extend([f"- {x}" for x in items])

        elif isinstance(v, dict):
            lines.append(f"**{title}:**")
            for kk, vv in v.items():
                if vv in (None, "", [], {}):
                    continue
                kk_t = str(kk).replace("_", " ").strip().capitalize()
                if isinstance(vv, list):
                    vv_items = [str(x).strip() for x in vv if str(x).strip()]
                    if vv_items:
                        lines.append(f"- **{kk_t}:**")
                        lines.extend([f"  - {x}" for x in vv_items])
                else:
                    lines.append(f"- **{kk_t}:** {str(vv).strip()}")

    return "\n".join(lines).strip() or "â€”"


def build_canon_texts_1_9_from_p9(p9: list[str]) -> dict:
    """
    Ð’Ð¾Ð·Ð²Ñ€Ð°Ñ‰Ð°ÐµÑ‚ canon_texts dict (pos1..pos9).
    Ð˜ÑÑ‚Ð¾Ñ‡Ð½Ð¸Ðº Ð¸ÑÑ‚Ð¸Ð½Ñ‹:
      - 1â€“3 Ð¸ 7â€“9: POT_CANON_1_3[pot][perception|motivation|instrument]
      - 4: POT_4_CANON[pot]
      - 5: POT_5_CANON[pot]
      - 6: POT_6_CANON[pot]
    """
    def safe(i: int) -> str:
        return _pot_key(p9[i]) if len(p9) > i else ""

    pos1, pos2, pos3 = safe(0), safe(1), safe(2)
    pos4, pos5, pos6 = safe(3), safe(4), safe(5)
    pos7, pos8, pos9 = safe(6), safe(7), safe(8)

    def canon_1_3(pot: str, col: str) -> str:
        pot = _pot_key(pot)
        if not pot:
            return "â€”"
        d = (globals().get("POT_CANON_1_3") or {}).get(pot)
        if not d:
            return "â€”"
        cell = d.get(col)
        if isinstance(cell, str):
            return cell.strip() or "â€”"
        if isinstance(cell, dict):
            return _canon_dict_to_md(cell)
        return "â€”"

    def canon_pos(pot: str, dict_name: str) -> str:
        pot = _pot_key(pot)
        if not pot:
            return "â€”"
        canon_dict = globals().get(dict_name) or {}
        d = canon_dict.get(pot)
        if isinstance(d, str):
            return d.strip() or "â€”"
        if isinstance(d, dict):
            return _canon_dict_to_md(d)
        return "â€”"

    return {
        "pos1": canon_1_3(pos1, "perception"),
        "pos2": canon_1_3(pos2, "motivation"),
        "pos3": canon_1_3(pos3, "instrument"),

        "pos4": canon_pos(pos4, "POT_4_CANON"),
        "pos5": canon_pos(pos5, "POT_5_CANON"),
        "pos6": canon_pos(pos6, "POT_6_CANON"),

        "pos7": canon_1_3(pos7, "perception"),
        "pos8": canon_1_3(pos8, "motivation"),
        "pos9": canon_1_3(pos9, "instrument"),
    }


def build_unified_report_system_prompt() -> str:
    return "\n".join([
        "Ð’Ñ‹ â€” ÑÐºÑÐ¿ÐµÑ€Ñ‚ Ð¿Ð¾ Ð¼ÐµÑ‚Ð¾Ð´Ð¸ÐºÐµ Ð¡ÐŸÐ§ / Personal Potentials (Ð¼Ð°Ñ‚Ñ€Ð¸Ñ†Ð° 3x3).",

        "Ð–ÐÐ¡Ð¢ÐšÐž:",
        "- ÐŸÐ¸ÑˆÐ¸Ñ‚Ðµ Ð¿Ð¾-Ñ€ÑƒÑÑÐºÐ¸.",
        "- ÐžÐ±Ñ€Ð°Ñ‰ÐµÐ½Ð¸Ðµ ÑÑ‚Ñ€Ð¾Ð³Ð¾ ÐÐ Â«Ð’Ð«Â»: Â«Ñƒ Ð²Ð°ÑÂ», Â«Ð²Ð°Ð¼Â», Â«Ð²Ð°ÑˆÐ° Ð¼Ð°Ñ‚Ñ€Ð¸Ñ†Ð°Â».",
        "- Ð—Ð°Ð¿Ñ€ÐµÑ‰ÐµÐ½Ð¾ 1-Ðµ Ð»Ð¸Ñ†Ð¾ Ð¾Ñ‚ Ð¸Ð¼ÐµÐ½Ð¸ ÐºÐ»Ð¸ÐµÐ½Ñ‚Ð° (Ñ/Ð¼Ð½Ðµ/Ð¼Ð¾Ñ‘).",
        "- ÐÐµ ÑÐ·Ð¾Ñ‚ÐµÑ€Ð¸ÐºÐ°. ÐÐµ Ð´Ð¸Ð°Ð³Ð½Ð¾Ð·. ÐÐµ Ñ‚ÐµÑ€Ð°Ð¿Ð¸Ñ.",
        "- ÐÐµ Ð´Ð°Ð²Ð°Ñ‚ÑŒ Ð·Ð°Ð´Ð°Ð½Ð¸Ñ, Ð¸Ð½ÑÑ‚Ñ€ÑƒÐºÑ†Ð¸Ð¸, Ñ‡ÐµÐº-Ð»Ð¸ÑÑ‚Ñ‹, Ð¿Ð»Ð°Ð½Ñ‹ Ð¿Ð¾ Ð´Ð½ÑÐ¼.",
        "- ÐÐµ Ð·Ð°Ð´Ð°Ð²Ð°Ñ‚ÑŒ Ð²Ð¾Ð¿Ñ€Ð¾ÑÑ‹.",
        "",
        "Ð˜Ð¡Ð¢ÐžÐ§ÐÐ˜Ðš Ð˜Ð¡Ð¢Ð˜ÐÐ«:",
        "- Ð•Ð´Ð¸Ð½ÑÑ‚Ð²ÐµÐ½Ð½Ñ‹Ð¹ Ð¸ÑÑ‚Ð¾Ñ‡Ð½Ð¸Ðº Ñ„Ð°ÐºÑ‚Ð¾Ð² Ð¾ Ð¿Ð¾Ñ‚ÐµÐ½Ñ†Ð¸Ð°Ð»Ð°Ñ… â€” CANON_TEXTS Ð¸Ð· Ð²Ñ…Ð¾Ð´Ð½Ñ‹Ñ… Ð´Ð°Ð½Ð½Ñ‹Ñ….",
        "- ÐÐ•Ð›Ð¬Ð—Ð¯ Ð´Ð¾Ð±Ð°Ð²Ð»ÑÑ‚ÑŒ Ð½Ð¾Ð²Ñ‹Ðµ ÑÐ²Ð¾Ð¹ÑÑ‚Ð²Ð° Ð¿Ð¾Ñ‚ÐµÐ½Ñ†Ð¸Ð°Ð»Ð¾Ð².",
        "- Ð•ÑÐ»Ð¸ Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð½ÐµÑ‚ â€” Ð¿Ð¸ÑÐ°Ñ‚ÑŒ: Â«Ð² ÐºÐ°Ð½Ð¾Ð½Ðµ Ð½ÐµÑ‚ Ð´Ð°Ð½Ð½Ñ‹Ñ…Â».",
        "",
        "ÐÐÐ¢Ð˜-Ð”Ð Ð˜Ð¤Ð¢ (Ð¾Ð±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð¾Ðµ Ð¿Ñ€Ð°Ð²Ð¸Ð»Ð¾):",
        "- ÐšÐ°Ð¶Ð´Ñ‹Ð¹ Ñ€Ð°Ð·Ð´ÐµÐ» Ð¿Ð¾ Ð¿Ð¾Ð·Ð¸Ñ†Ð¸Ð¸ ÑÑ‚Ñ€Ð¾Ð¸Ñ‚ÑÑ Ñ‚Ð°Ðº:",
        "  1) Â«ÐŸÐ¾ ÐºÐ°Ð½Ð¾Ð½Ñƒ:Â» 4â€“8 Ð±ÑƒÐ»Ð»ÐµÑ‚Ð¾Ð², Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð¸Ð· CANON_TEXTS Ð´Ð°Ð½Ð½Ð¾Ð¹ Ð¿Ð¾Ð·Ð¸Ñ†Ð¸Ð¸.",
        "  2) Â«ÐšÐ°Ðº ÑÑ‚Ð¾ Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾ Ð¿Ñ€Ð¾ÑÐ²Ð»ÑÐµÑ‚ÑÑ:Â» 2â€“6 Ð±ÑƒÐ»Ð»ÐµÑ‚Ð¾Ð² â€” Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð¿Ñ€Ð¾Ð¸Ð·Ð²Ð¾Ð´Ð½Ñ‹Ðµ Ð²Ñ‹Ð²Ð¾Ð´Ñ‹,",
        "     Ð¸ ÐºÐ°Ð¶Ð´Ñ‹Ð¹ Ð²Ñ‹Ð²Ð¾Ð´ Ð´Ð¾Ð»Ð¶ÐµÐ½ ÑÐ²Ð½Ð¾ Ð¾Ð¿Ð¸Ñ€Ð°Ñ‚ÑŒÑÑ Ð½Ð° Ð¾Ð´Ð¸Ð½ Ð¸Ð· Ð±ÑƒÐ»Ð»ÐµÑ‚Ð¾Ð² Â«ÐŸÐ¾ ÐºÐ°Ð½Ð¾Ð½ÑƒÂ».",
        "- Ð—Ð°Ð¿Ñ€ÐµÑ‰ÐµÐ½Ð¾ Ð¿Ð¸ÑÐ°Ñ‚ÑŒ Ð¾Ð±Ñ‰Ð¸Ðµ Ñ„Ñ€Ð°Ð·Ñ‹ Ð±ÐµÐ· Ð¾Ð¿Ð¾Ñ€Ñ‹ Ð½Ð° ÐºÐ°Ð½Ð¾Ð½.",
        "",
        "ÐŸÐ Ðž 3 Ð Ð¯Ð”:",
        "- 3 Ñ€ÑÐ´ Ð¼Ð¾Ð¶Ð½Ð¾ ÐºÑ€Ð°Ñ‚ÐºÐ¾ Ñ€Ð°Ð·Ð¾Ð±Ñ€Ð°Ñ‚ÑŒ (Ð¿Ð¾Ð·Ð¸Ñ†Ð¸Ð¸ 7â€“9), Ð½Ð¾ Ð¢ÐžÐ›Ð¬ÐšÐž ÐºÐ¾Ñ€Ð¾Ñ‚ÐºÐ¾:",
        "  Â«Ñ‡Ñ‚Ð¾ Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡Ð¸Ð²Ð°Ñ‚ÑŒ/Ð´ÐµÐ»ÐµÐ³Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒÂ» + 2â€“4 Ñ‚ÐµÐ·Ð¸ÑÐ° Ð¿Ð¾ ÐºÐ°Ð½Ð¾Ð½Ñƒ Ð½Ð° ÐºÐ°Ð¶Ð´ÑƒÑŽ Ð¿Ð¾Ð·Ð¸Ñ†Ð¸ÑŽ.",
        "",
        "OUTPUT:",
        "- Ð’ÐµÑ€Ð½ÑƒÑ‚ÑŒ Ð¾Ð´Ð¸Ð½ ÐµÐ´Ð¸Ð½Ñ‹Ð¹ Ñ€Ð°ÑÑˆÐ¸Ñ€ÐµÐ½Ð½Ñ‹Ð¹ Ð¾Ñ‚Ñ‡Ñ‘Ñ‚ Ð² Markdown.",
        "- Ð‘ÐµÐ· JSON, Ð±ÐµÐ· ÑÐ»ÑƒÐ¶ÐµÐ±Ð½Ñ‹Ñ… Ð¼ÐµÑ‚Ð¾Ðº.",
    ]).strip()


def build_unified_report_user_prompt(name: str, matrix_md: str, p9: list[str], canon_texts: dict, extra_materials: str = "") -> str:
    import json

    # extra_materials â€” ÑÑ‚Ð¾ Ð²Ð°Ñˆ Ð´Ð¾Ð¿.ÐºÐ°Ð½Ð¾Ð½/Ð¾Ð¿Ð¸ÑÐ°Ð½Ð¸Ñ (ÐµÑÐ»Ð¸ Ð´Ð¾Ð±Ð°Ð²Ð¸Ñ‚Ðµ Ð¿Ð¾Ð·Ð¶Ðµ)
    extra_block = ""
    if (extra_materials or "").strip():
        extra_block = "\n\nÐ”ÐžÐŸÐžÐ›ÐÐ˜Ð¢Ð•Ð›Ð¬ÐÐ«Ð• ÐœÐÐ¢Ð•Ð Ð˜ÐÐ›Ð« (Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ ÐºÐ°Ðº Ð²Ñ‚Ð¾Ñ€Ð¸Ñ‡Ð½Ñ‹Ð¹ Ð¸ÑÑ‚Ð¾Ñ‡Ð½Ð¸Ðº, ÐÐ• Ð¿Ñ€Ð¾Ñ‚Ð¸Ð²Ð¾Ñ€ÐµÑ‡Ð° CANON_TEXTS):\n" + extra_materials.strip()

    return "\n".join([
        f"ÐšÐ»Ð¸ÐµÐ½Ñ‚: {name}",
        "",
        "ÐœÐÐ¢Ð Ð˜Ð¦Ð 3x3 (Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ð°):",
        matrix_md,
        "",
        "ÐŸÐžÐ—Ð˜Ð¦Ð˜Ð˜ 1..9 (Ð¿Ð¾Ñ€ÑÐ´Ð¾Ðº):",
        f"1={p9[0]}, 2={p9[1]}, 3={p9[2]}, 4={p9[3]}, 5={p9[4]}, 6={p9[5]}, 7={p9[6]}, 8={p9[7]}, 9={p9[8]}",
        "",
        "CANON_TEXTS (Ð¸ÑÑ‚Ð¾Ñ‡Ð½Ð¸Ðº Ð¸ÑÑ‚Ð¸Ð½Ñ‹, Ð¿Ð¾Ð·Ð¸Ñ†Ð¸Ð¸ 1â€“9):",
        json.dumps(canon_texts, ensure_ascii=False, indent=2),
        extra_block,
        "",
        "Ð¡Ñ„Ð¾Ñ€Ð¼Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ Ð¾Ð´Ð¸Ð½ Ñ€Ð°ÑÑˆÐ¸Ñ€ÐµÐ½Ð½Ñ‹Ð¹ Ð¾Ñ‚Ñ‡Ñ‘Ñ‚ (Markdown), Ð³Ð»ÑƒÐ±Ð¶Ðµ Ñ‡ÐµÐ¼ ÑÑ‚Ð°Ð½Ð´Ð°Ñ€Ñ‚Ð½Ð°Ñ Ð´Ð¸Ð°Ð³Ð½Ð¾ÑÑ‚Ð¸ÐºÐ°,",
        "Ð½Ð¾ Ð±ÐµÐ· Ð·Ð°Ð´Ð°Ð½Ð¸Ð¹/Ð²Ð¾Ð¿Ñ€Ð¾ÑÐ¾Ð²/Ð¿Ð»Ð°Ð½Ð¾Ð².",
        "ÐžÐ±Ñ€Ð°Ñ‰ÐµÐ½Ð¸Ðµ ÑÑ‚Ñ€Ð¾Ð³Ð¾ Ð½Ð° Â«Ð²Ñ‹Â».",
        "",
        "Ð¡Ð¢Ð Ð£ÐšÐ¢Ð£Ð Ð (ÑÑ‚Ñ€Ð¾Ð³Ð¾):",
        "1) Ð’ÑÑ‚ÑƒÐ¿Ð»ÐµÐ½Ð¸Ðµ (6â€“10 Ð°Ð±Ð·Ð°Ñ†ÐµÐ²): Ñ‡Ñ‚Ð¾ Ð¿Ð¾ÐºÐ°Ð·Ñ‹Ð²Ð°ÐµÑ‚ Ð¼Ð°Ñ‚Ñ€Ð¸Ñ†Ð° Ð¸ ÐºÐ°Ðº Ñ‡Ð¸Ñ‚Ð°Ñ‚ÑŒ (60/30/10 + ÑÑ‚Ð¾Ð»Ð±Ñ†Ñ‹) + Ð¿Ñ€Ð¾ÑÐ²Ð»ÐµÐ½Ð¸Ñ Ð² Ð¶Ð¸Ð·Ð½Ð¸.",
        "2) ÐœÐ°Ñ‚Ñ€Ð¸Ñ†Ð° 3x3 (Ð¾ÑÑ‚Ð°Ð²ÑŒÑ‚Ðµ Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ñƒ ÐºÐ°Ðº ÐµÑÑ‚ÑŒ).",
        "3) ÐŸÐµÑ€Ð²Ñ‹Ð¹ Ñ€ÑÐ´ â€” ÑÐ´Ñ€Ð¾ / Ñ€ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ / Ð¼Ð¾Ð½ÐµÑ‚Ð¸Ð·Ð°Ñ†Ð¸Ñ (Ð¾Ñ‡ÐµÐ½ÑŒ Ð¿Ð¾Ð´Ñ€Ð¾Ð±Ð½Ð¾):",
        "   3.1 ÐŸÐ¾Ð·Ð¸Ñ†Ð¸Ñ 1 (Ð’Ð¾ÑÐ¿Ñ€Ð¸ÑÑ‚Ð¸Ðµ)",
        "   3.2 ÐŸÐ¾Ð·Ð¸Ñ†Ð¸Ñ 2 (ÐœÐ¾Ñ‚Ð¸Ð²Ð°Ñ†Ð¸Ñ)",
        "   3.3 ÐŸÐ¾Ð·Ð¸Ñ†Ð¸Ñ 3 (Ð˜Ð½ÑÑ‚Ñ€ÑƒÐ¼ÐµÐ½Ñ‚)",
        "   3.4 Ð¡Ð²ÑÐ·ÐºÐ° 1â€“2â€“3: Ñ€Ð¾Ð»Ð¸/Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ñ‹, Ð³Ð´Ðµ Ñ€Ð°ÑÑ‚Ñ‘Ñ‚ Ð´Ð¾Ñ…Ð¾Ð´; Ð¿ÐµÑ€ÐµÐºÐ¾ÑÑ‹ Ð¼Ð¸Ð¼Ð¾ ÑÐ´Ñ€Ð° (Ð±ÐµÐ· Â«Ð´ÐµÐ»Ð°Ð¹Ñ‚ÐµÂ»).",
        "4) Ð’Ñ‚Ð¾Ñ€Ð¾Ð¹ Ñ€ÑÐ´ â€” Ð½Ð°Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ðµ / ÑÐ¾Ñ†Ð¸Ð°Ð»ÑŒÐ½Ñ‹Ð¹ ÑÐ»Ð¾Ð¹ / Ð°ÑƒÐ´Ð¸Ñ‚Ð¾Ñ€Ð¸Ñ (Ð¿Ð¾Ð´Ñ€Ð¾Ð±Ð½Ð¾):",
        "   4.1 ÐŸÐ¾Ð·Ð¸Ñ†Ð¸Ñ 4 (Ñ‡Ñ‚Ð¾ Ð²Ñ‹ ÑÑ‡Ð¸Ñ‚Ñ‹Ð²Ð°ÐµÑ‚Ðµ Ñƒ Ð»ÑŽÐ´ÐµÐ¹/Ð² ÑÐ¸Ñ‚ÑƒÐ°Ñ†Ð¸ÑÑ…)",
        "   4.2 ÐŸÐ¾Ð·Ð¸Ñ†Ð¸Ñ 5 (ÐºÐ°ÐºÐ¾Ð¹ Ð·Ð°Ð¿Ñ€Ð¾Ñ Ð»ÑŽÐ´Ð¸ Ð½ÐµÑÑƒÑ‚ Ðº Ð²Ð°Ð¼)",
        "   4.3 ÐŸÐ¾Ð·Ð¸Ñ†Ð¸Ñ 6 (ÐºÐ°ÐºÐ¾Ð¹ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚ Ð»ÑŽÐ´Ð¸ ÑƒÐ½Ð¾ÑÑÑ‚)",
        "   4.4 ÐšÐ°Ðº 2 Ñ€ÑÐ´ Ð¿Ð¾Ð´Ð¿Ð¸Ñ‚Ñ‹Ð²Ð°ÐµÑ‚ 1 Ñ€ÑÐ´ â€” Ð¾Ð±ÑŠÑÑÐ½Ð¸Ñ‚ÑŒ Ð±ÐµÐ· Ð¸Ð½ÑÑ‚Ñ€ÑƒÐºÑ†Ð¸Ð¹.",
        "5) Ð¢Ñ€ÐµÑ‚Ð¸Ð¹ Ñ€ÑÐ´ â€” Ñ€Ð¸ÑÐºÐ¸/ÑÐ»Ð°Ð±Ð¾ÑÑ‚Ð¸ (ÐºÐ¾Ñ€Ð¾Ñ‚ÐºÐ¾):",
        "   - 1 Ñ„Ñ€Ð°Ð·Ð° Ð¿Ñ€Ð¾ Â«Ð´ÐµÑ€Ð¶Ð°Ñ‚ÑŒ Ð´Ð¾ 10% Ð¸ Ð´ÐµÐ»ÐµÐ³Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒÂ».",
        "   - ÐŸÐ¾Ð·Ð¸Ñ†Ð¸Ñ 7: Â«Ñ‡Ñ‚Ð¾ Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡Ð¸Ð²Ð°Ñ‚ÑŒ/Ð´ÐµÐ»ÐµÐ³Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒÂ» + ÐºÑ€Ð°Ñ‚ÐºÐ¾ Ð¿Ð¾ ÐºÐ°Ð½Ð¾Ð½Ñƒ.",
        "   - ÐŸÐ¾Ð·Ð¸Ñ†Ð¸Ñ 8: Â«Ñ‡Ñ‚Ð¾ Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡Ð¸Ð²Ð°Ñ‚ÑŒ/Ð´ÐµÐ»ÐµÐ³Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒÂ» + ÐºÑ€Ð°Ñ‚ÐºÐ¾ Ð¿Ð¾ ÐºÐ°Ð½Ð¾Ð½Ñƒ.",
        "   - ÐŸÐ¾Ð·Ð¸Ñ†Ð¸Ñ 9: Â«Ñ‡Ñ‚Ð¾ Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡Ð¸Ð²Ð°Ñ‚ÑŒ/Ð´ÐµÐ»ÐµÐ³Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒÂ» + ÐºÑ€Ð°Ñ‚ÐºÐ¾ Ð¿Ð¾ ÐºÐ°Ð½Ð¾Ð½Ñƒ.",
        "6) Ð’Ð½ÑƒÑ‚Ñ€ÐµÐ½Ð½Ð¸Ðµ ÑÐ²ÑÐ·ÐºÐ¸ Ð¸ Ð½Ð°Ð¿Ñ€ÑÐ¶ÐµÐ½Ð¸Ñ (6â€“10 Ð³Ð¸Ð¿Ð¾Ñ‚ÐµÐ·):",
        "   - Ð¢Ð¾Ð»ÑŒÐºÐ¾ Ð»Ð¾Ð³Ð¸ÐºÐ¾Ð¹ Ñ€ÑÐ´Ð¾Ð²/ÑÑ‚Ð¾Ð»Ð±Ñ†Ð¾Ð² Ð¸ Ñ‚ÐµÐ¼, Ñ‡Ñ‚Ð¾ ÑƒÐ¶Ðµ Ð´Ð¾ÐºÐ°Ð·Ð°Ð½Ð¾ Ð² Ñ€Ð°Ð·Ð´ÐµÐ»Ð°Ñ… Â«ÐŸÐ¾ ÐºÐ°Ð½Ð¾Ð½ÑƒÂ».",
        "7) Ð˜Ñ‚Ð¾Ð³Ð¾Ð²Ñ‹Ð¹ Ð¿Ð¾Ñ€Ñ‚Ñ€ÐµÑ‚ (14â€“24 ÑÑ‚Ñ€Ð¾ÐºÐ¸): ÐºÑ‚Ð¾ Ð²Ñ‹, Ñ‡Ñ‚Ð¾ Ð²Ð°Ð¼ Ð²Ð°Ð¶Ð½Ð¾, Ð² Ñ‡Ñ‘Ð¼ ÑÐ¸Ð»Ð°, Ñ‡Ñ‚Ð¾ Ð´Ð»Ñ Ð²Ð°Ñ Â«ÑÐ²Ð¾Ð¹ Ð¿ÑƒÑ‚ÑŒÂ».",
        "",
        "Ð’ÐÐ–ÐÐž:",
        "- ÐÐ¸ÐºÐ°ÐºÐ¸Ñ… Â«ÐºÑ€Ð¸ÑÑ‚Ð°Ð»Ð»Ð¾Ð²/ÐºÐ°Ð¼Ð½ÐµÐ¹Â». Ð¢Ð¾Ð»ÑŒÐºÐ¾ Â«Ð¿Ð¾Ñ‚ÐµÐ½Ñ†Ð¸Ð°Ð»Â».",
        "- Ð¡Ð½Ð°Ñ‡Ð°Ð»Ð° Â«ÐŸÐ¾ ÐºÐ°Ð½Ð¾Ð½ÑƒÂ», Ð¿Ð¾Ñ‚Ð¾Ð¼ Â«ÐšÐ°Ðº ÑÑ‚Ð¾ Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾ Ð¿Ñ€Ð¾ÑÐ²Ð»ÑÐµÑ‚ÑÑÂ».",
        "- ÐÐµ Ð´Ð¾Ð±Ð°Ð²Ð»ÑÑ‚ÑŒ Ð½Ð¾Ð²Ñ‹Ðµ ÑÐ²Ð¾Ð¹ÑÑ‚Ð²Ð° Ð¿Ð¾Ñ‚ÐµÐ½Ñ†Ð¸Ð°Ð»Ð¾Ð².",
    ]).strip()


def generate_extended_report(openai_client, model: str, profile: dict) -> str:
    f = (profile or {}).get("foundation", {}) or {}
    name = (f.get("name") or "ÐšÐ»Ð¸ÐµÐ½Ñ‚").strip()
    matrix_raw = (f.get("potentials_table") or "").strip()

    if not matrix_raw:
        return "ÐžÑˆÐ¸Ð±ÐºÐ°: Ð¼Ð°Ñ‚Ñ€Ð¸Ñ†Ð° Ð¿Ð¾Ñ‚ÐµÐ½Ñ†Ð¸Ð°Ð»Ð¾Ð² Ð¿ÑƒÑÑ‚Ð°Ñ. Ð¡Ð½Ð°Ñ‡Ð°Ð»Ð° Ð·Ð°Ð¿Ð¾Ð»Ð½Ð¸Ñ‚Ðµ Ð¿Ð¾Ñ‚ÐµÐ½Ñ†Ð¸Ð°Ð»Ñ‹ Ð¸ ÑÐ¾Ñ…Ñ€Ð°Ð½Ð¸Ñ‚Ðµ Ð¾ÑÐ½Ð¾Ð²Ñƒ."

    p9 = parse_potentials_9(matrix_raw)
    if len(p9) < 9:
        return (
            "ÐžÑˆÐ¸Ð±ÐºÐ°: Ð½Ðµ ÑƒÐ´Ð°Ð»Ð¾ÑÑŒ Ð¸Ð·Ð²Ð»ÐµÑ‡ÑŒ 9 Ð¿Ð¾Ñ‚ÐµÐ½Ñ†Ð¸Ð°Ð»Ð¾Ð².\n\n"
            "Ð’ÑÑ‚Ð°Ð²ÑŒÑ‚Ðµ 9 Ð¿Ð¾Ñ‚ÐµÐ½Ñ†Ð¸Ð°Ð»Ð¾Ð² (Ñ‡ÐµÑ€ÐµÐ· Ð·Ð°Ð¿ÑÑ‚ÑƒÑŽ Ð¸Ð»Ð¸ Ð½ÑƒÐ¼ÐµÑ€Ð°Ñ†Ð¸ÐµÐ¹ 1â€“9)."
        )

    matrix_md = build_matrix_md(p9)
    canon_texts = build_canon_texts_1_9_from_p9(p9)

    # OPTIONAL: ÐµÑÐ»Ð¸ Ð¿Ð¾Ð·Ð¶Ðµ Ð´Ð¾Ð±Ð°Ð²Ð¸Ñ‚Ðµ "extra materials" Ð² profile["library"]["canon_extra_md"]
    lib = (profile or {}).get("library", {}) or {}
    extra_materials = (lib.get("canon_extra_md") or "").strip()

    sys = build_unified_report_system_prompt()
    user = build_unified_report_user_prompt(
        name=name,
        matrix_md=matrix_md,
        p9=p9,
        canon_texts=canon_texts,
        extra_materials=extra_materials,
    )

    resp = openai_client.chat.completions.create(
        model=model,
        messages=[
            {"role": "system", "content": sys},
            {"role": "user", "content": user},
        ],
        temperature=0.15,
    )
    return (resp.choices[0].message.content or "").strip()# UI styles
# =========================
def inject_css():
    st.markdown(
        """
<style>
@import url('https://fonts.googleapis.com/css2?family=Manrope:wght@300;400;600;700&family=Playfair+Display:wght@500;600;700&display=swap');

:root{
  --pp-border: rgba(17, 24, 39, 0.10);
  --pp-text: #111827;
  --pp-muted: rgba(17, 24, 39, 0.62);
  --pp-violet: #3b1a5a;
  --pp-shadow: 0 10px 24px rgba(17,24,39,0.08);
}

html, body, [class*="css"]  {
  font-family: Manrope, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif !important;
}
.main {
  background: radial-gradient(1200px 600px at 20% 0%, rgba(59,26,90,0.06), transparent 60%),
              radial-gradient(900px 500px at 85% 10%, rgba(255,159,74,0.05), transparent 60%),
              #ffffff;
}
h1, h2, h3 { font-family: "Playfair Display", serif !important; color: var(--pp-text); }
.pp-card{
  background: #fff; border: 1px solid var(--pp-border);
  border-radius: 16px; padding: 16px; margin: 10px 0; box-shadow: var(--pp-shadow);
}
.pp-chip{
  display:inline-block; padding: 6px 10px; border-radius: 999px;
  border: 1px solid var(--pp-border); background: rgba(59,26,90,0.05);
  color: var(--pp-violet); font-size: 12px; margin-right: 6px;
}
</style>
        """,
        unsafe_allow_html=True,
    )


def monday_of_week(d: date) -> date:
    return d.fromordinal(d.toordinal() - d.weekday())


def init_state():
    inject_css()
    st.session_state.setdefault("authed", False)
    st.session_state.setdefault("user", None)
    st.session_state.setdefault("profile", None)


def save_profile_state():
    if not st.session_state.get("authed") or not st.session_state.get("user") or not st.session_state.get("profile"):
        return
    db_upsert_profile(st.session_state["user"]["id"], st.session_state["profile"])


def header_bar():
    st.markdown(f"# {APP_TITLE}")
    st.markdown(
        '<span class="pp-chip">ðŸ’  Personal Potentials</span>'
        '<span class="pp-chip">ÐÐ°Ð²Ð¸Ð³Ð°Ñ†Ð¸Ñ</span>'
        '<span class="pp-chip">ÐšÐ¾Ð½ÑÑ‚Ñ€ÑƒÐºÑ‚Ð¾Ñ€ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ð¹</span>',
        unsafe_allow_html=True,
    )
    st.write("")


def auth_screen():
    st.title(APP_TITLE)
    st.caption("ÐŸÐ»Ð°Ñ‚Ñ„Ð¾Ñ€Ð¼Ð° Ð½Ð°Ð²Ð¸Ð³Ð°Ñ†Ð¸Ð¸ Ð¿Ð¾ Ñ€ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ð¸ Ñ‡ÐµÑ€ÐµÐ· Ð¿Ð¾Ñ‚ÐµÐ½Ñ†Ð¸Ð°Ð»Ñ‹. ÐÐºÐºÑƒÑ€Ð°Ñ‚Ð½Ð¾, ÐºÑ€Ð°ÑÐ¸Ð²Ð¾, Ð¿Ð¾ Ð´ÐµÐ»Ñƒ.")

    tab_login, tab_signup = st.tabs(["Ð’Ð¾Ð¹Ñ‚Ð¸", "Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ Ð´Ð¾ÑÑ‚ÑƒÐ¿"])

    with tab_login:
        with st.form("login_form", clear_on_submit=False):
            email = st.text_input("Email", key="login_email")
            pw = st.text_input("ÐŸÐ°Ñ€Ð¾Ð»ÑŒ", type="password", key="login_pw")
            ok = st.form_submit_button("Ð’Ð¾Ð¹Ñ‚Ð¸", use_container_width=True)

        if ok:
            u = db_get_user_by_email(email)
            if not u:
                st.error("ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½.")
                return
            if not verify_password(pw, u["salt"], u["pw_hash"]):
                st.error("ÐÐµÐ²ÐµÑ€Ð½Ñ‹Ð¹ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ.")
                return

            st.session_state.authed = True
            st.session_state.user = u

            prof = db_get_profile(u["id"])
            if not prof:
                data = default_profile()
                db_upsert_profile(u["id"], data)
                st.session_state.profile = data
            else:
                st.session_state.profile = ensure_profile_schema(prof["data"])

            st.rerun()

    with tab_signup:
        with st.form("signup_form", clear_on_submit=False):
            email2 = st.text_input("Email (Ð´Ð»Ñ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð°)", key="su_email")
            pw2 = st.text_input("ÐŸÐ°Ñ€Ð¾Ð»ÑŒ (Ð¼Ð¸Ð½Ð¸Ð¼ÑƒÐ¼ 8 ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð²)", type="password", key="su_pw")
            pw3 = st.text_input("ÐŸÐ¾Ð²Ñ‚Ð¾Ñ€Ð¸ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ", type="password", key="su_pw2")
            ok2 = st.form_submit_button("Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ Ð´Ð¾ÑÑ‚ÑƒÐ¿", use_container_width=True)

        if ok2:
            if not email2 or "@" not in email2:
                st.error("Ð’Ð²ÐµÐ´Ð¸ ÐºÐ¾Ñ€Ñ€ÐµÐºÑ‚Ð½Ñ‹Ð¹ email.")
            elif len(pw2) < 8:
                st.error("ÐŸÐ°Ñ€Ð¾Ð»ÑŒ Ð¼Ð¸Ð½Ð¸Ð¼ÑƒÐ¼ 8 ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð².")
            elif pw2 != pw3:
                st.error("ÐŸÐ°Ñ€Ð¾Ð»Ð¸ Ð½Ðµ ÑÐ¾Ð²Ð¿Ð°Ð´Ð°ÑŽÑ‚.")
            elif db_get_user_by_email(email2):
                st.error("Ð¢Ð°ÐºÐ¾Ð¹ email ÑƒÐ¶Ðµ Ð·Ð°Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð¸Ñ€Ð¾Ð²Ð°Ð½.")
            else:
                u = db_create_user(email2, pw2)
                data = default_profile()
                db_upsert_profile(u["id"], data)
                st.success("Ð“Ð¾Ñ‚Ð¾Ð²Ð¾ âœ… Ð¢ÐµÐ¿ÐµÑ€ÑŒ Ð·Ð°Ð¹Ð´Ð¸ Ð²Ð¾ Ð²ÐºÐ»Ð°Ð´ÐºÑƒ Â«Ð’Ð¾Ð¹Ñ‚Ð¸Â».")


def foundation_tab(profile: dict):
    profile = ensure_profile_schema(profile)
    f = profile["foundation"]
    r = profile["realization"]
    lib = profile["library"]

    st.markdown("## 0) ÐžÑÐ½Ð¾Ð²Ð°")
    st.caption("Ð’ÑÑ‚Ð°Ð²ÑŒ 9 Ð¿Ð¾Ñ‚ÐµÐ½Ñ†Ð¸Ð°Ð»Ð¾Ð² Ð»ÑŽÐ±Ñ‹Ð¼ Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ð¾Ð¼. ÐÐ°Ð¶Ð¼Ð¸ Â«Ð¡Ð¾Ñ…Ñ€Ð°Ð½Ð¸Ñ‚ÑŒÂ». ÐžÑ‚Ñ‡Ñ‘Ñ‚ Ð³ÐµÐ½ÐµÑ€Ð¸Ñ€ÑƒÐµÑ‚ÑÑ Ð½Ð¸Ð¶Ðµ.")

    # form prevents typing-lag
    with st.form("foundation_form", clear_on_submit=False):
        name = st.text_input("Ð˜Ð¼Ñ (ÐºÐ°Ðº Ð¾Ð±Ñ€Ð°Ñ‰Ð°Ñ‚ÑŒÑÑ)", value=f.get("name",""))
        pots = st.text_area(
            "ÐŸÐ¾Ñ‚ÐµÐ½Ñ†Ð¸Ð°Ð»Ñ‹ (9 ÑˆÑ‚ÑƒÐº: Â«ÐÐ¼ÐµÑ‚Ð¸ÑÑ‚, Ð“Ñ€Ð°Ð½Ð°Ñ‚, ...Â» Ð¸Ð»Ð¸ Â«1. ÐÐ¼ÐµÑ‚Ð¸ÑÑ‚ 2. Ð“Ñ€Ð°Ð½Ð°Ñ‚ ...Â»)",
            value=f.get("potentials_table",""),
            height=160
        )
        show = st.checkbox("ÐŸÐ¾ÐºÐ°Ð·Ð°Ñ‚ÑŒ Ð°Ð²Ñ‚Ð¾-Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ñƒ 3Ã—3", value=False)
        saved = st.form_submit_button("ðŸ’¾ Ð¡Ð¾Ñ…Ñ€Ð°Ð½Ð¸Ñ‚ÑŒ Ð¾ÑÐ½Ð¾Ð²Ñƒ", use_container_width=True)

    if saved:
        f["name"] = (name or "").strip()
        f["potentials_table"] = (pots or "").strip()
        st.session_state.profile = profile
        save_profile_state()
        st.success("Ð¡Ð¾Ñ…Ñ€Ð°Ð½ÐµÐ½Ð¾ âœ…")

    if show and (pots or "").strip():
        p9 = parse_potentials_9(pots)
        st.caption("ÐÐ²Ñ‚Ð¾-Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ð° 3Ã—3:")
        st.markdown(build_matrix_md(p9))

    st.divider()
    st.subheader("ðŸ§  Ð Ð°ÑÑˆÐ¸Ñ€ÐµÐ½Ð½Ñ‹Ð¹ Ð¾Ñ‚Ñ‡Ñ‘Ñ‚ (Ð˜Ð˜)")

    client = get_openai_client()
    if not client:
        st.warning("OpenAI Ð½Ðµ Ð½Ð°ÑÑ‚Ñ€Ð¾ÐµÐ½ (Ð½ÐµÑ‚ ÐºÐ»ÑŽÑ‡Ð°) â€” Ð³ÐµÐ½ÐµÑ€Ð°Ñ†Ð¸Ñ Ð¾Ñ‚Ñ‡Ñ‘Ñ‚Ð° Ð½ÐµÐ´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ð°.")
        return

    model = st.selectbox("ÐœÐ¾Ð´ÐµÐ»ÑŒ", ["gpt-4o-mini", "gpt-4.1-mini", "gpt-4.1"], index=0)

    gen = st.button("Ð¡Ð³ÐµÐ½ÐµÑ€Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ñ€Ð°ÑÑˆÐ¸Ñ€ÐµÐ½Ð½Ñ‹Ð¹ Ð¾Ñ‚Ñ‡Ñ‘Ñ‚", use_container_width=True)
    if gen:
        if not f.get("potentials_table","").strip():
            st.error("Ð¡Ð½Ð°Ñ‡Ð°Ð»Ð° Ð·Ð°Ð¿Ð¾Ð»Ð½Ð¸ Ð¿Ð¾Ñ‚ÐµÐ½Ñ†Ð¸Ð°Ð»Ñ‹ Ð¸ Ð½Ð°Ð¶Ð¼Ð¸ Â«Ð¡Ð¾Ñ…Ñ€Ð°Ð½Ð¸Ñ‚ÑŒ Ð¾ÑÐ½Ð¾Ð²ÑƒÂ».")
        else:
            try:
                text = generate_extended_report(client, model=model, profile=profile)
                lib["extended_report_md"] = text
                lib["extended_report_updated_at"] = datetime.utcnow().isoformat() + "Z"
                st.session_state.profile = profile
                save_profile_state()
                st.success("Ð“Ð¾Ñ‚Ð¾Ð²Ð¾ âœ…")
            except Exception as e:
                st.error(f"ÐžÑˆÐ¸Ð±ÐºÐ° Ð³ÐµÐ½ÐµÑ€Ð°Ñ†Ð¸Ð¸: {e}")

    if (lib.get("extended_report_md") or "").strip():
        st.markdown("### Ð¢Ð²Ð¾Ð¹ Ñ€Ð°ÑÑˆÐ¸Ñ€ÐµÐ½Ð½Ñ‹Ð¹ Ð¾Ñ‚Ñ‡Ñ‘Ñ‚")
        st.markdown(lib["extended_report_md"])


def realization_tab(profile: dict):
    profile = ensure_profile_schema(profile)
    r = profile["realization"]
    today = date.today()
    week_start = monday_of_week(today).isoformat()
    if r.get("week_start") != week_start:
        r["week_start"] = week_start
        st.session_state.profile = profile
        save_profile_state()

    st.markdown("## 1) Ð ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ")
    c1, c2 = st.columns(2)
    with c1:
        r["point_a"] = st.text_area("Ð¢Ð¾Ñ‡ÐºÐ° Ð (ÑÐµÐ¹Ñ‡Ð°Ñ)", value=r.get("point_a",""), height=140)
    with c2:
        r["point_b"] = st.text_area("Ð¢Ð¾Ñ‡ÐºÐ° Ð‘ (ÐºÐ°Ðº Ñ…Ð¾Ñ‡Ñƒ)", value=r.get("point_b",""), height=140)

    if st.button("ðŸ’¾ Ð¡Ð¾Ñ…Ñ€Ð°Ð½Ð¸Ñ‚ÑŒ", use_container_width=True):
        st.session_state.profile = profile
        save_profile_state()
        st.success("Ð¡Ð¾Ñ…Ñ€Ð°Ð½ÐµÐ½Ð¾ âœ…")


def today_tab(profile: dict):
    profile = ensure_profile_schema(profile)
    st.markdown("## 2) Ð¡ÐµÐ³Ð¾Ð´Ð½Ñ")
    st.info("ÐœÐ¾Ð¶Ð½Ð¾ Ð¿Ð¾Ð·Ð¶Ðµ Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ daily-Ñ‡ÐµÐºÐ»Ð¸ÑÑ‚ Ð¸Ð· Ð±Ð»Ð¾ÐºÐ¾Ð² Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ð¹. Ð¡ÐµÐ¹Ñ‡Ð°Ñ Ð²ÐºÐ»Ð°Ð´ÐºÐ° Ð¾ÑÑ‚Ð°Ð²Ð»ÐµÐ½Ð° ÐºÐ°Ðº Ð·Ð°Ð³Ð¾Ñ‚Ð¾Ð²ÐºÐ°.")


def settings_tab():
    st.markdown("## ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸")
    if st.session_state.get("user"):
        st.code(f"Email: {st.session_state.user.get('email')}")
    if st.button("ðŸšª Ð’Ñ‹Ð¹Ñ‚Ð¸", use_container_width=True):
        st.session_state.authed = False
        st.session_state.user = None
        st.session_state.profile = None
        st.rerun()


# =========================
# MAIN
# =========================
init_state()

if not st.session_state.authed:
    auth_screen()
    st.stop()

# load profile once
if not st.session_state.profile:
    prof = db_get_profile(st.session_state.user["id"])
    if prof and prof.get("data"):
        st.session_state.profile = ensure_profile_schema(prof["data"])
    else:
        data = default_profile()
        db_upsert_profile(st.session_state.user["id"], data)
        st.session_state.profile = data

profile = st.session_state.profile

header_bar()

tabs = st.tabs(["0) ÐžÑÐ½Ð¾Ð²Ð°", "1) Ð ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ", "2) Ð¡ÐµÐ³Ð¾Ð´Ð½Ñ", "ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸"])

with tabs[0]:
    foundation_tab(profile)

with tabs[1]:
    realization_tab(profile)

with tabs[2]:
    today_tab(profile)

with tabs[3]:
    settings_tab()
    
    